<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Frigaard">
<meta name="dcterms.date" content="2023-06-01">

<title>golem shiny app-packages – @mjfrigaard</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-77fdbda47e04b5941569e7827eccaac1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title"><span class="citation" data-cites="mjfrigaard">@mjfrigaard</span></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../posts.html"> 
<span class="menu-text">All Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../books.html"> 
<span class="menu-text">Books</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../talks.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../articles.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../series.html"> 
<span class="menu-text">Series</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../code.html"> 
<span class="menu-text">Code</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mjfrigaard"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/mjfrigaard"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">golem shiny app-packages</h1>
<p class="subtitle lead">Building a production-grade shiny app: whole-game</p>
  <div class="quarto-categories">
    <div class="quarto-category">shiny</div>
    <div class="quarto-category">golem</div>
    <div class="quarto-category">packages</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Frigaard </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 1, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>This post walks through building a shiny application using the <a href="https://thinkr-open.github.io/golem/"><code>golem</code> framework</a>. <code>golem</code> is a ’<em>an opinionated framework for building production-grade shiny applications’</em>–I’ll explore some of the opinions (and offer my opinion on adopting these opinions).</p>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I highly recommend this.</p>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; font-style: italic; color: #696969;">
<p>I recommend adopting this practice (or something very similar).</p>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Useful</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>This practice is useful, but maybe not for all applications.</p>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Tip</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Additional notes or thoughts on an opinion or practice.</p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"mjfrigaard/gap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For consistency, I’ll be using the application from the RStudio’s <a href="https://rstudio-education.github.io/shiny-course/">Building Web Applications with Shiny</a> course. These materials are a great resource if you’re new to shiny–even if you’re aren’t, it’s still worth checking out–plus it’s free!</p>
<p>The <a href="https://engineering-shiny.org/">golem text</a> is also a fantastic resource, but I found myself using the <a href="https://thinkr-open.github.io/golem/"><code>golem</code> website</a> as a great ‘quick reference.’ If you’re unfamiliar with R package development, I recommend bookmarking <a href="https://r-pkgs.org/">R packages</a>–this is a great resource you’ll return to often.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><a href="image.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="image.png" class="img-fluid" style="width:70.0%"></a></p>
</div></div><section id="outline" class="level2">
<h2 class="anchored" data-anchor-id="outline">Outline</h2>
<p>I’ve organized the app-package development process into three areas: <strong>Start</strong>, <strong>Build</strong>, and <strong>Use</strong>.</p>
<ul>
<li><p><strong>Start</strong> covers the required steps to launch your <code>golem</code> project in the RStudio IDE, common R package files and folders, and other setup considerations.</p></li>
<li><p><strong>Build</strong> covers the app-package development process, which includes writing and storing code, data, external resources (like CSS or JavaScript), testing, etc.</p></li>
<li><p><strong>Use</strong> shows how to launch a <code>golem</code> application locally (i.e., within the RStudio IDE), common workflow tips, and anything I found confusing while building the application.</p></li>
</ul>
<section id="dev-scripts" class="level3">
<h3 class="anchored" data-anchor-id="dev-scripts"><span style="font-size: 1.20em"><code>dev/</code></span> scripts</h3>
<p>New <code>golem</code> apps automatically open the <code>01_start.R</code> script from the <code>dev/</code> folder. This is the first of three .R scripts that serve as a ‘guided tour’ of the <code>golem</code> framework (<code>01_start.R</code>, <code>02_dev.R</code>, and <code>03_deploy.R</code>):</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="gap_dev_scripts.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="golem dev/ scripts"><img src="gap_dev_scripts.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:55.0%" alt="golem dev/ scripts"></a></p>
</figure>
</div>
<figcaption>golem <code>dev/</code> scripts</figcaption>
</figure>
</div>
<p>The <code>run_dev.R</code> is also in the <code>dev/</code> folder, but it’s for running a development version of your app (more on this later).</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Development scripts: <strong>Note</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>If you’re familiar with R application development, you should recognize most of the items in the <code>dev/</code> scripts. I recommend going through these scripts even if you’re an experienced R package developer–you can think of these as a ‘shiny app-package development checklist.’</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="start" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="start">Start</h2>
<!-- ## [`gap`]{style="font-size: 1.55em"} -->
<p>To create a new <code>golem</code> app from the console, enter the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"golem"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(golem)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">create_golem</span>(<span class="at">path =</span> <span class="st">"gap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you’re creating a <code>golem</code> app using the <strong>New Project Wizard</strong>, the following defaults are available:</p>
<div id="fig-golem-setup" class="column quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-golem-setup-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="golem-setup.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="IDE wizard golem setup"><img src="golem-setup.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></a></p>
</figure>
</div>
<figcaption>IDE wizard <code>golem</code> setup</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-golem-setup-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Creating a new <code>golem</code> shiny app
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> comments: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I recommend using <code>golem</code> comments–they’re helpful and don’t change how the application code runs.</p>
</div>
</div>
</div>
</div>
<p>When the new project opens, the initial folder structure for your new <code>golem</code> application is below:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide golem folder structure</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">app-name/</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> DESCRIPTION</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> NAMESPACE</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> R</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app_config.R</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app_server.R</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app_ui.R</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   └── run_app.R</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> dev</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── 01_start.R</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── 02_dev.R</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── 03_deploy.R</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   └── run_dev.R</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> <span class="pp">[</span><span class="ss">app</span><span class="pp">-</span><span class="ss">name</span><span class="pp">]</span>.Rproj</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> inst</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   │   └── www</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   │       └── favicon.ico</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   └── golem-config.yml</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">└──</span> man</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>      <span class="ex">└──</span> run_app.Rd</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">7</span> directories, 14 files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="begin-01_start.r" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="begin-01_start.r">Begin <span style="font-size: 1.20em"><code>01_start.R</code></span></h3>
<p>The <code>dev/01_start.R</code> file is covered in the first few sections of the <a href="https://engineering-shiny.org/golem.html"><code>golem</code> text</a>, but I prefer the <a href="https://thinkr-open.github.io/golem/articles/a_start.html">package website</a> as a reference because it walks through each <code>dev/</code> script (with links to the <code>golem</code> functions).</p>
<section id="fill-the-description" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="fill-the-description"><span style="font-size: 1.10em"><code>Fill</code> <code>the</code> <code>DESCRIPTION</code></span></h4>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem::fill_desc()</code>: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>The <code>DESCRIPTION</code> file plays and important role in R packages (probably why it’s the first item in the <code>01_start.R</code> file).</p>
<blockquote class="blockquote">
<p>‘<em>all a project needs to be a package is a directory of <code>R/</code> files and a <code>DESCRIPTION</code> file.</em>’ - <a href="https://mastering-shiny.org/scaling-packaging.html#summary-18">Packages Chapter of Mastering Shiny</a></p>
</blockquote>
<p>The <code>golem::fill_desc()</code> arguments are a great way to guarantee your <code>DESCRIPTION</code> file is set up correctly.</p>
</div>
</div>
</div>
</div>
<p>There are three files in a new golem app-package–<code>NAMESPACE</code>, <code>DESCRIPTION</code>, and <code>[app name].Rproj</code>. <code>dev/01_start.R</code> starts by building the <code>DESCRIPTION</code> file with <a href="https://thinkr-open.github.io/golem/reference/fill_desc.html"><code>golem::fill_desc()</code></a></p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="gap_desc.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="golem DESCRIPTION"><img src="gap_desc.png" class="img-fluid figure-img" style="width:70.0%" alt="golem DESCRIPTION"></a></p>
<figcaption>golem <code>DESCRIPTION</code></figcaption>
</figure>
</div>
</div></div><p><code>fill_desc()</code> is from the <a href="https://r-lib.github.io/desc/"><code>desc</code> package</a>, and the sections are entered in a <code>key = "value"</code> format</p>
<ul>
<li><p>Example <code>DESCRIPTION</code> file contents:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">fill_desc</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">pkg_name =</span> <span class="st">"gap"</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pkg_title =</span> <span class="st">"An example goelm app"</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pkg_description =</span> <span class="st">"A working example of the golem package."</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">author_first_name =</span> <span class="st">"Martin"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">author_last_name =</span> <span class="st">"Frigaard"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">author_email =</span> <span class="st">"mjfrigaard@pm.me"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">repo_url =</span> <span class="cn">NULL</span> <span class="co"># The URL of the GitHub Repo (optional)</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>show/hide output from golem::fill_desc()</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_version</span><span class="kw">`</span> to 0.0.0.9000</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_name</span><span class="kw">`</span> to gap</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> DESCRIPTION file modified</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></li>
</ul>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What if I need to edit the <code>DESCRIPTION</code>?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>In <code>dev/02_dev.R</code>, <code>attachment::att_amend_desc()</code> will ‘<em>Amend <code>DESCRIPTION</code> with dependencies read from package code parsing</em>’. If <code>attachment</code> is not installed, use <code>install.package('attachment')</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="set-golem-options" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="set-golem-options"><span style="font-size: 1.10rem"><code>Set</code> <code>{golem}</code> <code>options</code></span></h4>
<p>The <code>golem::set_golem_options()</code> wraps a collection of <code>golem</code>‘s ’opinionated’ application development and configuration options.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">set_golem_options</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details class="code-fold">
<summary>show/hide output from golem::set_golem_options()</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> Setting {golem} options in <span class="kw">`</span><span class="ex">golem-config.yml</span><span class="kw">`</span> ────────────────────────────────────────────────────────────────────</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_name</span><span class="kw">`</span> to gap</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_wd</span><span class="kw">`</span> to golem::pkg_path<span class="er">(</span><span class="kw">)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> can change golem working directory with set_golem_wd<span class="er">(</span><span class="st">'path/to/wd'</span><span class="kw">)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_version</span><span class="kw">`</span> to 0.0.0.9000</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">app_prod</span><span class="kw">`</span> to FALSE</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> Setting {usethis} project as <span class="kw">`</span><span class="ex">golem_wd</span><span class="kw">`</span> ──────────────────────────────────────────────────────────────────────────</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/projects/gap'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>set_golem_options()</code> is a wrapper for a collection of <code>golem</code> option functions (I’ve included each function and a brief description of their behavior below):</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide golem options</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">set_golem_options</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">golem_name =</span> golem<span class="sc">::</span><span class="fu">pkg_name</span>(), <span class="co"># name of the app-package in DESCRIPTION</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">golem_version =</span> golem<span class="sc">::</span><span class="fu">pkg_version</span>(), <span class="co"># version in DESCRIPTION</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">golem_wd =</span> golem<span class="sc">::</span><span class="fu">pkg_path</span>(), <span class="co"># package root when starting a golem</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">app_prod =</span> <span class="cn">FALSE</span>, <span class="co"># production mode?</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">talkative =</span> <span class="cn">TRUE</span>, <span class="co"># Should the messages be printed to the console?</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">config_file =</span> golem<span class="sc">::</span><span class="fu">get_current_config</span>(golem_wd) <span class="co"># golem-config.yml location</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="golem_config_yml.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="golem config file"><img src="golem_config_yml.png" class="img-fluid figure-img" style="width:100.0%" alt="golem config file"></a></p>
<figcaption>golem config file</figcaption>
</figure>
</div>
</div></div><p>The new config file is located in the <code>inst/</code> folder.</p>
<!--


    ::: {.cell}
    
    ```{.bash .cell-code}
    inst
    ├── app
    │   └── www
    │       └── favicon.ico
    └── golem-config.yml
    
    3 directories, 2 files
    ```
    :::

    
-->
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem::set_golem_options()</code>: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>To fully understand the <code>golem</code> framework, I recommended running this function. The functions called for each argument in <code>golem::set_golem_options()</code> provide some insight into how a <code>golem</code> app is structured (i.e., where the <code>name</code> and <code>version</code> information is stored, the location of the root directory, etc.)</p>
</div>
</div>
</div>
</div>
</section>
<section id="install-required-dev-dependencies" class="level4">
<h4 class="anchored" data-anchor-id="install-required-dev-dependencies"><span style="font-size: 1.10em"><code>Install</code> <code>required</code> <code>dev</code> <code>dependencies</code></span></h4>
<p>The <code>golem::install_dev_deps()</code> function makes sure the following packages are installed (I’ve grouped them into categories):</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<section id="development" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h5 class="anchored" data-anchor-id="development">Development</h5>
<ul>
<li><p><a href="https://devtools.r-lib.org/"><code>devtools</code></a> (loading, documenting, installing package)</p>
<ul>
<li><a href="https://pkgload.r-lib.org/"><code>pkgload</code></a> (i.e., <code>devtools::load_all()</code>)</li>
</ul></li>
<li><p><a href="https://usethis.r-lib.org/"><code>usethis</code></a> (create package files)</p></li>
<li><p><a href="https://roxygen2.r-lib.org/"><code>roxygen2</code></a> (document package functions and objects)</p></li>
<li><p><a href="https://pkgbuild.r-lib.org/"><code>pkgbuild</code></a> (create a <code>.tar.gz</code> file)</p></li>
</ul>
</section>
<section id="documentation-testing" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h5 class="anchored" data-anchor-id="documentation-testing">Documentation &amp; testing</h5>
<ul>
<li><p><a href="https://thinkr-open.github.io/attachment/"><code>attachment</code></a> (deal with package dependencies)</p></li>
<li><p><a href="https://desc.r-lib.org/"><code>desc</code></a> (Parse <code>DESCRIPTION</code> files)</p></li>
<li><p><a href="https://testthat.r-lib.org/"><code>testthat</code></a> (unit testing your code)</p></li>
</ul>
</section>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<section id="internals" class="level5 quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<h5 class="anchored" data-anchor-id="internals">Internals</h5>
<ul>
<li><p><a href="https://rstudio.github.io/rstudioapi/"><code>rstudioapi</code></a> (interacting with RStudio IDE)</p></li>
<li><p><a href="https://processx.r-lib.org/"><code>processx</code></a> (execute and control subprocesses from R)</p></li>
</ul>
</section>
<section id="files-paths" class="level5 quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<h5 class="anchored" data-anchor-id="files-paths">Files &amp; paths</h5>
<ul>
<li><p><a href="https://here.r-lib.org/"><code>here</code></a> (file/folder path management)</p></li>
<li><p><a href="https://fs.r-lib.org/"><code>fs</code></a> (file/folder path management)</p></li>
</ul>
</section>
<section id="deploy" class="level5 quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<h5 class="anchored" data-anchor-id="deploy">Deploy</h5>
<ul>
<li><p><a href="https://github.com/ThinkR-open/dockerfiler"><code>dockerfiler</code></a> (deploying apps with docker)</p></li>
<li><p><a href="https://rstudio.github.io/rsconnect/"><code>rsconnect</code></a> (deploy shiny apps with RSConnect)</p></li>
</ul>
</section>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">install_dev_deps</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Below is an example with <code>dockerfiler</code>:</p>
<div class="cell">
<details class="code-fold">
<summary>show/hide output from golem::install_dev_deps()</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> The package <span class="st">"dockerfiler"</span> is required.</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✖</span> Would you like to install it<span class="pp">?</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Yes</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> No</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Updated metadata database: 5.32 MB in 12 files.                         </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Updating metadata database ... done                                     </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                                                                            </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="ex">→</span> Will install 1 package.</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="ex">→</span> Will download 1 CRAN package <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span><span class="bu">.</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span> dockerfiler   0.2.1  ⬇ <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Getting 1 pkg <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Got dockerfiler 0.2.1 <span class="er">(</span><span class="ex">x86_64-apple-darwin17.0</span><span class="kw">)</span> <span class="kw">(</span><span class="ex">104.29</span> kB<span class="kw">)</span>             </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Downloaded 1 package <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span><span class="er">in</span> <span class="ex">1.1s</span>                                 </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Installed dockerfiler 0.2.1  <span class="er">(</span><span class="ex">54ms</span><span class="kw">)</span>                                    </span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> 1 pkg + 40 deps: kept 40, added 1, dld 1 <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span> <span class="ex">[20.2s]</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem::install_dev_deps()</code>: <strong>Highly recommned</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I recommend using <code>golem</code>’s options here–it’s efficient and let’s you know if a particular package isn’t installed:</p>
</div>
</div>
</div>
</div>
</section>
<section id="create-common-files" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="create-common-files"><span style="font-size: 1.10em"><code>Create</code> <code>Common</code> <code>Files</code></span></h4>
<p>The ‘Create Common Files’ section of <code>dev/01_start.R</code> contains many of the functions and files covered in the <a href="https://r-pkgs.org/whole-game.html">‘Whole Game’ section of R packages</a>:</p>
<ul>
<li><p><strong>LICENSE</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_mit_license</span>(<span class="st">"Golem User"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'MIT + file LICENSE'</span> to License</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'LICENSE'</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'LICENSE.md'</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^LICENSE\\.md$'</span> to <span class="st">'.Rbuildignore'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>

<!--  -->
<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="gap_license.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="golem LICENSE file"><img src="gap_license.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%" alt="golem LICENSE file"></a></p>
</figure>
</div>
<figcaption>golem <code>LICENSE</code> file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>README.Rmd</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_readme_rmd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'README.Rmd'</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^README\\.Rmd$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Update <span class="st">'README.Rmd'</span> to include installation instructions.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>The <strong>README.md</strong> is built with <code>devtools::build_readme()</code></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build_readme</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Installing gap in temporary library</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Building /projects/gap/README.Rmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="gap_readme.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="golem README.Rmd file"><img src="gap_readme.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%" alt="golem README.Rmd file"></a></p>
</figure>
</div>
<figcaption>golem README.Rmd file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>CODE_OF_CONDUCT.md</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_code_of_conduct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'CODE_OF_CONDUCT.md'</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^CODE_OF_CONDUCT\\.md$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> You may also want to describe the code of conduct in your README:</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">## Code of Conduct</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> note that the gap project is released with a [Contributor Code of</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Conduct]</span><span class="er">(</span><span class="ex">https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html</span><span class="kw">)</span><span class="bu">.</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="ex">By</span> contributing to this project, you agree to abide by its terms.</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[Copied</span> to clipboard]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Paste of the code of conduct in the <strong>README.md</strong> is rebuild with <code>devtools::build_readme()</code></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build_readme</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Installing gap in temporary library</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Building /projects/gap/README.Rmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="gap_code_of_conduct.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="golem code of conduct file"><img src="gap_code_of_conduct.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%" alt="golem code of conduct file"></a></p>
</figure>
</div>
<figcaption>golem code of conduct file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>Lifecycle badge</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_lifecycle_badge</span>(<span class="st">"Experimental"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding Lifecycle: experimental badge to <span class="st">'README.Rmd'</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Re-knit <span class="st">'README.Rmd'</span> with <span class="kw">`</span><span class="fu">devtools::build_readme()</span><span class="kw">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Rebuild the <strong>README.md</strong> with <code>devtools::build_readme()</code></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_lifecycle_badge</span>(<span class="st">"Experimental"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Installing gap in temporary library</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Building /projects/gap/README.Rmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="lifecycle_exp.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="golem lifecycle badge"><img src="lifecycle_exp.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%" alt="golem lifecycle badge"></a></p>
</figure>
</div>
<figcaption><code>golem</code> lifecycle badge</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>NEWS.md</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_news_md</span>(<span class="at">open =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'NEWS.md'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="gap_news.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="golem NEWS.md file"><img src="gap_news.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:70.0%" alt="golem NEWS.md file"></a></p>
</figure>
</div>
<figcaption>golem <code>NEWS.md</code> file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>Git</strong>: <code>usethis::use_git()</code> will ask if you’d like to commit the files in your golem app to a repo of the same name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_git</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/projects/gap'</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Initialising Git repo</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'.Rproj.user'</span>, <span class="st">'.Rhistory'</span>, <span class="st">'.Rdata'</span>, <span class="st">'.httr-oauth'</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'.DS_Store'</span><span class="ex">,</span> <span class="st">'.quarto'</span> to <span class="st">'.gitignore'</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="ex">There</span> are 16 uncommitted files:</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'.gitignore'</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'.here'</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'.Rbuildignore'</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'CODE_OF_CONDUCT.md'</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'DESCRIPTION'</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'dev/'</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'gap.Rproj'</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'inst/'</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'LICENSE'</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'LICENSE.md'</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> ...</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="ex">Is</span> it ok to commit them<span class="pp">?</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Definitely</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> Negative</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="ex">3:</span> Not now</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>To initialize the Git pane, you’ll need to restart RStudio (in the next dialogue)</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding files</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Making a commit with message <span class="st">'Initial commit'</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> A restart of RStudio is required to activate the Git pane</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Restart</span> now<span class="pp">?</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Absolutely</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> Negative</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="ex">3:</span> No</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common files: <strong>Recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; font-style: italic; color: #696969;">
<p>Each of these files are important for an R package, so having them consolidated in <code>01_start.R</code> makes it easier to get up and running quickly. However, if you’d like to edit their contents before moving onto the next step (or you’d like information on a particular function/file), I recommend consulting <a href="https://r-pkgs.org/whole-game.html">R packages</a> for this section</p>
</div>
</div>
</div>
</div>
</section>
<section id="init-testing-infrastructure" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="init-testing-infrastructure"><span style="font-size: 1.10em"><code>Init</code> <code>Testing</code> <code>Infrastructure</code></span></h4>
<p><code>golem::use_recommended_tests()</code> with set up the <code>testthat</code> architecture for unit tests.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_recommended_tests</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="gap_tests.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="golem test files"><img src="gap_tests.png" class="img-fluid figure-img" style="width:100.0%" alt="golem test files"></a></p>
<figcaption>golem test files</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/projects/gap'</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'testthat'</span> to Suggests field in DESCRIPTION</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'3'</span> to Config/testthat/edition</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Creating <span class="st">'tests/testthat/'</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'tests/testthat.R'</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Call <span class="kw">`</span><span class="fu">use_test()</span><span class="kw">`</span> to initialize a basic test file and open it for editing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It also adds a few words to the <code>WORDLIST</code> file in the <code>inst</code> folder:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'spelling'</span> to Suggests field in DESCRIPTION</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'en-US'</span> to Language</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> following words will be added to the wordlist:</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a> <span class="ex">-</span> Lifecycle</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a> <span class="ex">-</span> goelm</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">-</span> golem</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Are</span> you sure you want to update the wordlist<span class="pp">?</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Yes</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> No</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Added</span> 3 and removed 0 words in /projects/gap/inst/WORDLIST</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Updated</span> /projects/gap/tests/spelling.R</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Run <span class="kw">`</span><span class="fu">devtools::check()</span><span class="kw">`</span> to trigger spell check</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Tests added</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>golem::use_recommended_tests()</code> also provides some examples for testing the UI, server, and other <code>golem</code> functions:</p>
<div class="cell">
<details class="code-fold">
<summary>show/hide unit tests in test-golem-recommended.R</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">"app ui"</span>, {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  ui <span class="ot">&lt;-</span> <span class="fu">app_ui</span>()</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  golem<span class="sc">::</span><span class="fu">expect_shinytaglist</span>(ui)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check that formals have not been removed</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  fmls <span class="ot">&lt;-</span> <span class="fu">formals</span>(app_ui)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"request"</span>)) {</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(i <span class="sc">%in%</span> <span class="fu">names</span>(fmls))</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">"app server"</span>, {</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  server <span class="ot">&lt;-</span> app_server</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect_type</span>(server, <span class="st">"closure"</span>)</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check that formals have not been removed</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  fmls <span class="ot">&lt;-</span> <span class="fu">formals</span>(app_server)</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"input"</span>, <span class="st">"output"</span>, <span class="st">"session"</span>)) {</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(i <span class="sc">%in%</span> <span class="fu">names</span>(fmls))</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"app_sys works"</span>,</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">app_sys</span>(<span class="st">"golem-config.yml"</span>) <span class="sc">!=</span> <span class="st">""</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"golem-config works"</span>,</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>    config_file <span class="ot">&lt;-</span> <span class="fu">app_sys</span>(<span class="st">"golem-config.yml"</span>)</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">skip_if</span>(config_file <span class="sc">==</span> <span class="st">""</span>)</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">get_golem_config</span>(</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">"app_prod"</span>,</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">config =</span> <span class="st">"production"</span>,</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">file =</span> config_file</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_false</span>(</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">get_golem_config</span>(</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>        <span class="st">"app_prod"</span>,</span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">config =</span> <span class="st">"dev"</span>,</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">file =</span> config_file</span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure this test to fit your need.</span></span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a><span class="co"># testServer() function makes it possible to test code in server functions and modules, without needing to run the full Shiny application</span></span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a><span class="fu">testServer</span>(app_server, {</span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set and test an input</span></span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>  session<span class="sc">$</span><span class="fu">setInputs</span>(<span class="at">x =</span> <span class="dv">2</span>)</span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect_equal</span>(input<span class="sc">$</span>x, <span class="dv">2</span>)</span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example of tests you can do on the server:</span></span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># - Checking reactiveValues</span></span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># expect_equal(r$lg, 'EN')</span></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># - Checking output</span></span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># expect_equal(output$txt, "Text")</span></span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure this test to fit your need</span></span>
<span id="cb33-69"><a href="#cb33-69" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(</span>
<span id="cb33-70"><a href="#cb33-70" aria-hidden="true" tabindex="-1"></a>  <span class="st">"app launches"</span>,</span>
<span id="cb33-71"><a href="#cb33-71" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb33-72"><a href="#cb33-72" aria-hidden="true" tabindex="-1"></a>    golem<span class="sc">::</span><span class="fu">expect_running</span>(<span class="at">sleep =</span> <span class="dv">5</span>)</span>
<span id="cb33-73"><a href="#cb33-73" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-74"><a href="#cb33-74" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>These tests pass right out of the box, and they give a little ‘sneak preview’ of how the <code>golem</code> framework works.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide results from unit tests in test-golem-recommended.R</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">==</span><span class="op">&gt;</span> Testing R file using <span class="st">'testthat'</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading gap</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> FAIL 0 <span class="er">|</span> <span class="er">WARN</span> <span class="ex">0</span> <span class="kw">|</span> <span class="ex">SKIP</span> 0 <span class="kw">|</span> <span class="ex">PASS</span> 9 ]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading</span> required package: shiny</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> FAIL 0 <span class="er">|</span> <span class="er">WARN</span> <span class="ex">0</span> <span class="kw">|</span> <span class="ex">SKIP</span> 1 <span class="kw">|</span> <span class="ex">PASS</span> 10 ]</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> Skipped tests <span class="er">(</span><span class="ex">1</span><span class="kw">)</span> <span class="ex">─────────</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> interactive<span class="er">(</span><span class="kw">)</span> <span class="ex">is</span> not TRUE</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">1</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">test-golem-recommended.R:72:5</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Test</span> complete</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> recommended tests: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I love this feature of golem apps! in a single function I have the folders required for unit testing, words added to the WORDLIST (which I almost never remember to do), and an example test with shiny’s <a href="https://shiny.posit.co/r/reference/shiny/1.7.0/testserver"><code>testServer()</code></a> function.</p>
</div>
</div>
</div>
</div>
</section>
<section id="favicon" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="favicon"><span style="font-size: 1.10em"><code>Favicon</code></span></h4>
<p>A <a href="https://en.wikipedia.org/wiki/Favicon">favicon</a> is a the little image that shows up on your browser tab or address bar. <code>golem</code> has a default favicon in the <code>inst/app/</code> folder:</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="favicon.ico" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="golem favicon file"><img src="favicon.ico" class="img-fluid figure-img" style="width:10.0%" alt="golem favicon file"></a></p>
<figcaption>golem favicon file</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">inst/</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">└──</span> app</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>       <span class="ex">└──</span> www</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>            <span class="ex">└──</span> favicon.ico</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span> directories, 1 file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>inst/</code> folder serves a specific purpose in golem apps (and R packages), which I’ll cover more below. For our purpose, the <code>golem::use_favicon()</code> function can use the existing image:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_favicon</span>(<span class="at">path =</span> <span class="st">"inst/app/www/favicon.ico"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The output introduces another common <code>golem</code> function: <code>golem_add_external_resources()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> favicon.ico created at </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/projects/gap/inst/app/www/favicon.ico</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Favicon</span> is automatically linked in app_ui via <span class="kw">`</span><span class="fu">golem_add_external_resources()</span><span class="kw">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function is used to add external resources to your application (and will come up often during development).</p>
</section>
<section id="add-helper-functions" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="add-helper-functions"><span style="font-size: 1.10em"><code>Add</code> <code>helper</code> <code>functions</code></span></h4>
<p>Most applications will have two types of code–<code>shiny</code> functions for running your application (app functions), and functions that do everything else (or utility functions). The <code>golem</code> framework further distinguishes utility functions into two types: <strong>1)</strong> <em>“small functions that are reused throughout the app”</em> (with a <code>utils_</code> prefix), and <strong>2)</strong> <em>“larger functions, which are more central to the application”</em> (with a <code>fct_</code> prefix).</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Documenting &amp; exporting functions: <strong>NOTE</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>The functions in <code>golem_utils_ui.R</code> and <code>golem_utils_server.R</code> are created with the <a href="https://roxygen2.r-lib.org/articles/rd.html?q=@noRd#basics"><code>@noRd</code> tag</a>, which prevents the <code>.Rd</code> file generation. If you’d like the functions available outside of the package, you can use <code>@export</code>. If you’d like <a href="https://roxygen2.r-lib.org/articles/rd-other.html#packages">‘a manual page created but not present in the function index’</a>, use <code>@keywords internal</code>. See the examples I’ve created <a href="https://github.com/mjfrigaard/gap/blob/main/R/golem_utils_ui.R">here</a> and <a href="https://github.com/mjfrigaard/gap/blob/main/R/golem_utils_server.R">here</a></p>
</div>
</div>
</div>
</div>
<p>The descriptions below are <a href="https://engineering-shiny.org/build-app-golem.html?functions#submodules-and-utility-functions">from the text</a> and provide examples for the two types of utility functions:</p>
<blockquote class="blockquote">
<p><strong><code>utils_</code> functions:</strong> “<em>…the <code>hexmake</code> app has two of these files, <code>R/utils_ui.R</code> and <code>R/utils_server.R</code>, in which you will find small functions that are reused throughout the app.</em>”</p>
</blockquote>
<blockquote class="blockquote">
<p><strong><code>fct_</code> functions:</strong> “<em>…in <code>hexmake</code>, you will find <code>R/fct_mongo.R</code>, which is used to handle all the things related to connecting and interacting with the Mongodb database.</em>”</p>
</blockquote>
<section id="use_utils_ui" class="level5 page-columns page-full">
<h5 class="anchored" data-anchor-id="use_utils_ui"><span style="font-size: 1.10em"><code>use_utils_ui()</code></span></h5>
<p>The <code>golem::use_utils_ui()</code> function will add a collection of utility functions for the UI. Including <code>with_test = TRUE</code> will add a test for these functions.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="use_utils_ui.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13" title="golem UI utility functions &amp; tests"><img src="use_utils_ui.png" class="img-fluid figure-img" style="width:90.0%" alt="golem UI utility functions &amp; tests"></a></p>
<figcaption>golem UI utility functions &amp; tests</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_utils_ui</span>(<span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/R/golem_utils_ui.R</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Utils UI added</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/tests/testthat/test-golem_utils_ui.R</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Tests on utils_server added</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="use_utils_server" class="level5 page-columns page-full">
<h5 class="anchored" data-anchor-id="use_utils_server"><span style="font-size: 1.10em"><code>use_utils_server()</code></span></h5>
<p><code>golem</code> also includes a set of functions for the application server (or server modules), <code>golem::use_utils_server()</code>. The <code>with_test = TRUE</code> will also add a test to the <code>tests/testthat/</code> folder:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_utils_server</span>(<span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/R/golem_utils_server.R</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Utils server added</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/tests/testthat/test-golem_utils_server.R</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Tests on utils_server added</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="use_utils_server.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14" title="golem server utility functions &amp; tests"><img src="use_utils_server.png" class="img-fluid figure-img" style="width:90.0%" alt="golem server utility functions &amp; tests"></a></p>
<figcaption>golem server utility functions &amp; tests</figcaption>
</figure>
</div>
</div></div><div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> utility functions: <strong>Recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; font-style: italic; color: #696969;">
<p>I consider these functions optional, but the examples in each file have a broad enough application that you’ll probably discover something helpful for your <code>golem</code> application. The <code>with_test</code> argument also provides more examples of unit tests for your application functions, so you’re likely to find something useful!</p>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="end-01_start.r" class="level3">
<h3 class="anchored" data-anchor-id="end-01_start.r">End <span style="font-size: 1.10em"><code>01_start.R</code></span></h3>
<p>This is the final function in the <code>dev/01_start.R</code> file. In the next <code>golem</code> dev script (<code>dev/02_dev.R</code>), I’ll cover development of your <code>golem</code> application.</p>
</section>
</section>
<section id="build" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="build">Build</h2>
<p>The <code>dev/02_dev.R</code> file is appropriately titled, ‘<code>Engineering</code>’, and unlike the functions in the first script, these functions will be used repeatedly for creating files in the <code>R/</code> and <code>inst/</code> folders.</p>
<section id="begin-02_dev.r" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="begin-02_dev.r">Begin <span style="font-size: 1.10em"><code>02_dev.R</code></span></h3>
<section id="app-files" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="app-files">App files</h4>
<p>Let’s start by examining the <a href="https://engineering-shiny.org/golem.html#r">contents of the <code>R/</code> folder</a> in our new <code>golem</code> application:</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="app_files.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15" title="golem application files"><img src="app_files.png" class="img-fluid figure-img" style="width:90.0%" alt="golem application files"></a></p>
<figcaption>golem application files</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R/</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> app_config.R</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> app_server.R</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> app_ui.R</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="ex">└──</span> run_app.R</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span> directory, 4 files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>golem</code> applications structure shiny apps into three files: <code>R/app_ui.R</code>, <code>R/app_server.R</code>, and <code>R/run_app.R</code>.</p>
<ul>
<li><p>The <code>R/app_ui.R</code> and <code>R/app_server.R</code> scripts are <code>golem</code>’s version of <code>ui.R</code> and <code>server.R</code></p></li>
<li><p><code>R/run_app.R</code> is a standalone app function, and</p></li>
<li><p><code>R/app_config.R</code> is used to set/get <code>golem</code> configuration settings (which we will cover more below).</p></li>
</ul>
<section id="app_ui.r" class="level5">
<h5 class="anchored" data-anchor-id="app_ui.r"><span style="font-size: 1.10em"><code>app_ui.R</code></span></h5>
<p><code>app_ui.R</code> wraps the UI functions in <code>shiny::tagList()</code> (you’ll see this function in shiny UI module functions, too).</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide app_ui()</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>app_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(request) {</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tagList</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Leave this function for adding external resources</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">golem_add_external_resources</span>(),</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your application UI logic</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fluidPage</span>(</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h1</span>(<span class="st">"gap"</span>)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>app_ui()</code> also contains a call to <code>golem_add_external_resources()</code>, which we used above to add the favicon image.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide golem_add_external_resources()</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>golem_add_external_resources <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_resource_path</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"www"</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">app_sys</span>(<span class="st">"app/www"</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">favicon</span>(),</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bundle_resources</span>(</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">path =</span> <span class="fu">app_sys</span>(<span class="st">"app/www"</span>),</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">app_title =</span> <span class="st">"gap"</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add here other external resources</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># for example, you can add shinyalert::useShinyalert()</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="app_server.r" class="level5">
<h5 class="anchored" data-anchor-id="app_server.r"><span style="font-size: 1.10em"><code>app_server.R</code></span></h5>
<p>The contents of <code>app_server.R</code> file looks similar to a standard shiny server function:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide app_server()</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>app_server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Your application server logic</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="app_config.r" class="level5">
<h5 class="anchored" data-anchor-id="app_config.r"><span style="font-size: 1.10em"><code>app_config.R</code></span></h5>
<p>The <code>app_config.R</code> file contains the “<em>internal mechanics for <code>golem</code>, notably for referring to values in the <code>inst/</code> folder, and to get values from the <code>config</code> file in the <code>inst/</code> folder</em>”. Two functions drive the internal mechanics of your <code>golem</code> app: <code>app_sys()</code> and <code>get_golem_config()</code></p>
<ul>
<li><code>app_sys()</code> is a wrapper around the <code>system.file()</code> function, and it’s used to <em>“quickly refer to the files inside the <code>inst/</code> folder”</em></li>
</ul>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide app_sys()</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>app_sys <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">system.file</span>(..., <span class="at">package =</span> <span class="st">"gap"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><code>get_golem_config()</code> is where you’ll set <code>golem</code> configuration options (covered <a href="https://engineering-shiny.org/golem.html#manipulating-golem-config.yml">here in the text</a>).</li>
</ul>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide get_golem_config()</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>get_golem_config <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  value,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">config =</span> <span class="fu">Sys.getenv</span>(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"GOLEM_CONFIG_ACTIVE"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Sys.getenv</span>(</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"R_CONFIG_ACTIVE"</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"default"</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">use_parent =</span> <span class="cn">TRUE</span>,</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Modify this if your config file is somewhere else</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="fu">app_sys</span>(<span class="st">"golem-config.yml"</span>)</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  config<span class="sc">::</span><span class="fu">get</span>(</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> value,</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">config =</span> config,</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span> file,</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">use_parent =</span> use_parent</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>get_golem_config()</code> reads the <code>inst/golem-config.yml</code> configuration file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">default:</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">golem_name:</span> gap</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">golem_version:</span> 0.0.0.9000</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">app_prod:</span> no</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="ex">production:</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">app_prod:</span> yes</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="ex">dev:</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">golem_wd:</span> !expr here::here<span class="er">(</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://engineering-shiny.org/golem.html#manipulating-golem-config.yml"><code>golem-config.yml</code></a> gives me access to the app version, name, and (development) working directory. This file is designed to add “<em>production-only elements</em>” and be “<em>shareable across <code>golem</code> projects</em>”</p>
</section>
<section id="run_app.r" class="level5">
<h5 class="anchored" data-anchor-id="run_app.r"><span style="font-size: 1.10em"><code>run_app.R</code></span></h5>
<p><code>run_app.R</code> is the exported function I’ll use to run my <code>golem</code> app after loading/documenting/installing the package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">load_all</span>(<span class="st">"."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading gap</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">document</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Updating gap documentation</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading gap</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Restarting</span> R session...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gap)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>gap<span class="sc">::</span><span class="fu">run_app</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>R/app_config.R</code>: <strong>Tip</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>The great thing about <code>golem</code> applications is that despite having a somewhat overwhelming amount of code and options, most of these can be ignored until you need to use them. <code>R/app_config.R</code> is a great example of this. The <code>get_golem_config()</code> function is a powerful tool for deploying apps in production, but you can get started developing your application without diving into the details.</p>
</div>
</div>
</div>
</div>
<!--
 

### [`golem`]{style="font-size: 1.30em"} helper functions

### [`golem`]{style="font-size: 1.30em"} external resources

### [`golem`]{style="font-size: 1.30em"} internal datasets

### [`golem`]{style="font-size: 1.30em"} tests 

### [`golem`]{style="font-size: 1.30em"} documentation 

### [`golem`]{style="font-size: 1.30em"} code coverage

-->
</section>
</section>
<section id="dependencies" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="dependencies"><span style="font-size: 1.10em"><code>Dependencies</code></span></h4>
<p>Dependency management is a necessary evil of package development. <code>shiny</code> has a large ecosystem of user-written add-on packages. To use the code from add-on packages in our application, we need a way to keep track of which function belongs to which package.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="dependencies.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16" title="golem app dependencies"><img src="dependencies.png" class="img-fluid figure-img" style="width:100.0%" alt="golem app dependencies"></a></p>
<figcaption>golem app dependencies</figcaption>
</figure>
</div>
</div></div><p><strong>The <code>DESCRIPTION</code> file manages package-level dependencies.</strong> The <code>Imports</code> field in the <code>DESCRIPTION</code> file specifies packages that my package uses, so the functions from these packages will be available for my package, but not for users (unless they use the <code>::</code> operator or load the package themselves).</p>
<p><strong>The <code>NAMESPACE</code> file manages function-level access.</strong> The <code>NAMESPACE</code> file manages the functions that are <em>exported</em> from my package (i.e., functions available to users who install my package), and the functions my package <em>imports</em> from other packages.</p>
<p>The <code>golem</code> text describes the difference between these files in the following way,</p>
<blockquote class="blockquote">
<p>“<em>The <code>DESCRIPTION</code> file dictates which packages have to be installed <strong>when your application is installed</strong></em>”</p>
<p>“<em>The <code>NAMESPACE</code> file describes how your app interacts with the R session at run time, i.e.&nbsp;<strong>when your application is launched</strong></em>”</p>
</blockquote>
<p>The <a href="https://thinkr-open.github.io/attachment/"><code>attachment</code> package</a> makes it easier to manage the dependencies in your <code>golem</code> application. It does this by looking through the files in your package to make sure everything is properly documented in the <code>NAMESPACE</code> and <code>DESCRIPTION</code> file (note that <a href="https://r-pkgs.org/dependencies-in-practice.html#confusion-about-imports">these two files are not equivalent or connected</a>).</p>
<p>The <code>att_amend_desc()</code> function removes a lot of the tedium involved in dependency management:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>attachment<span class="sc">::</span><span class="fu">att_amend_desc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function adds the appropriate parameters to <code>golem-config.yml</code> and sets up function documentation in the <code>DESCRIPTION</code> file</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Saving</span> attachment parameters to yaml config file</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Updating</span> <span class="pp">[</span><span class="ss">app</span><span class="pp">-</span><span class="ss">name</span><span class="pp">]</span> documentation</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Setting</span> <span class="kw">`</span><span class="ex">RoxygenNote</span><span class="kw">`</span> to <span class="st">"7.2.3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It loads the contents of our package (i.e.&nbsp;<code>devtools::load_all()</code>) and writes the <code>NAMESPACE</code> file</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading <span class="pp">[</span><span class="ss">app</span><span class="pp">-</span><span class="ss">name</span><span class="pp">]</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> NAMESPACE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It also writes the help files in the <code>man/</code> folder.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> run_app.Rd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> dependencies: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Managing the dependencies in your app is an essential part of getting your application to deploy in a production environment, and this is a very helpful addition to your package development workflow (whether you’re building an app package or standard R package).</p>
</div>
</div>
</div>
</div>
</section>
<section id="add-modules" class="level4">
<h4 class="anchored" data-anchor-id="add-modules"><span style="font-size: 1.10em"><code>Add modules</code></span></h4>
<p><code>golem</code> has functions for quickly creating modules and utility/helper functions in the <code>R/</code> folder.</p>
<section id="add_module" class="level5">
<h5 class="anchored" data-anchor-id="add_module"><span style="font-size: 1.10em"><code>add_module()</code></span></h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_module</span>(<span class="at">name =</span> <span class="st">"name_of_module1"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>) </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_module</span>(<span class="at">name =</span> <span class="st">"name_of_module2"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="add-helper-functions-1" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="add-helper-functions-1"><span style="font-size: 1.10em"><code>Add helper functions</code></span></h4>
<p>golem apps differentiates two types of helper functions: <code>uils_</code> and <code>fct_</code>.</p>
<section id="add_utils" class="level5">
<h5 class="anchored" data-anchor-id="add_utils"><span style="font-size: 1.10em"><code>add_utils()</code></span></h5>
<blockquote class="blockquote">
<p><strong><code>uils_</code> functions:</strong> “<em>small functions that might be used several times in the application</em>” … “<em>more ‘topic centered’, in the sense that they gather functions that relate to a specific feature of the application(+</em>”</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_utils</span>(<span class="st">"helpers"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="add_fct" class="level5 page-columns page-full">
<h5 class="anchored" data-anchor-id="add_fct"><span style="font-size: 1.10em"><code>add_fct()</code></span></h5>
<blockquote class="blockquote">
<p><strong><code>fct_</code> functions:</strong> “<em>larger functions that are more central to the application</em>” … “<em>more used as a place to put miscellaneous functions</em>”</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_fct</span>(<span class="st">"helpers"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>with_test = TRUE</code> ensures these functions will also create test files in <code>tests/</code></p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="golem_add_functions.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17" title="golem::add_ functions"><img src="golem_add_functions.png" class="img-fluid figure-img" style="width:100.0%" alt="golem::add_ functions"></a></p>
<figcaption><code>golem::add_</code> functions</figcaption>
</figure>
</div>
</div></div><div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> modules and helper functions: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>These functions are incredibly helpful for a variety of reasons: 1) they simplify the naming convention by automatically creating prefixes for modules (<code>mod_[name]_ui</code>/<code>mod_[name]_server</code>) and helper functions (<code>utils_</code>/<code>fct_</code>), 2) the <code>with_test</code> argument makes it easy to create an accompanying test file, which ensures you have tests for each function/module (and promotes test-driven development!).</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="external-resources" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="external-resources"><span style="font-size: 1.10em"><code>External resources</code></span></h4>
<p><code>dev/02_dev.R</code> includes <code>golem</code> wrappers for including CSS, JavaScript, and SASS files to the <code>inst/app/www/</code> folder:</p>
<section id="javascript-files" class="level5">
<h5 class="anchored" data-anchor-id="javascript-files">JavaScript files</h5>
<p>You can add JavaScript to your application using the <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_js_file("script")</code></a> and <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_js_handler("handlers")</code></a> functions.</p>
<p>The <code>golem</code> text has an entire chapter dedicated to JavaScript (which is worth reading).</p>
</section>
<section id="app-styling" class="level5 page-columns page-full">
<h5 class="anchored" data-anchor-id="app-styling">App styling</h5>
<p>You can add CSS or SASS styling to your application using the <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_css_file("custom")</code></a> and <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_sass_file("custom")</code></a> functions, too.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="golem_ext_resources.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18" title="golem external resources"><img src="golem_ext_resources.png" class="img-fluid figure-img" style="width:100.0%" alt="golem external resources"></a></p>
<figcaption><code>golem</code> external resources</figcaption>
</figure>
</div>
</div></div><div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> external resources: <strong>Recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; font-style: italic; color: #696969;">
<p>It’s unlikely a production-grade shiny application only includes R code, and figuring out how to add other code files to your application can get complicated quickly. These functions are incredibly helpful (and they <a href="https://thinkr-open.github.io/golem/articles/b_dev.html#add-external-files">work outside of a <code>golem</code> applications!</a>).</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="add-internal-datasets" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="add-internal-datasets"><span style="font-size: 1.10em"><code>Add internal datasets</code></span></h4>
<p>If you application uses data, you can add it to your application with the <code>usethis</code> functions (<code>use_data_raw()</code> or <code>use_data()</code>). I recommend reading the <a href="https://r-pkgs.org/data.html">data section</a> of R packages (and <a href="https://r-pkgs.org/misc.html#sec-misc-inst">this section</a> on adding data to <code>inst/extdata</code>).</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="golem_data.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19" title="golem app data"><img src="golem_data.png" class="img-fluid figure-img" style="width:100.0%" alt="golem app data"></a></p>
<figcaption><code>golem</code> app data</figcaption>
</figure>
</div>
<p>Locations of data in <code>golem</code> app-packages</p>
</div></div><section id="instextdata" class="level5">
<h5 class="anchored" data-anchor-id="instextdata"><span style="font-size: 1.10em"><code>inst/extdata</code></span></h5>
<p>External data you’d like to make available in your package should be stored in <code>inst/extdata/</code></p>
<p>This is where I’ve placed the <code>movies</code> file:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>inst/extdata/</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>└── movies.RData</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>1 directory, 1 file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="use_data_raw" class="level5">
<h5 class="anchored" data-anchor-id="use_data_raw"><span style="font-size: 1.10em"><code>use_data_raw()</code></span></h5>
<p>The <code>data-raw/</code> folder is for the <em>‘data-creating script’</em> that was used to create the version of the data in your app-package:</p>
<ul>
<li>I’ll create a raw data file for <code>movies</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_data_raw</span>(<span class="st">"movies"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Newly created <code>.R</code> scripts in <code>use_data_raw()</code> will have a call to <code>use_data()</code>. See below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'data-raw/movies.R'</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Modify <span class="st">'data-raw/movies.R'</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Finish the data preparation script in <span class="st">'data-raw/movies.R'</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Use <span class="kw">`</span><span class="fu">usethis::use_data()</span><span class="kw">`</span> to add prepared data to package</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
</section>
<section id="use_data" class="level5 page-columns page-full">
<h5 class="anchored" data-anchor-id="use_data"><span style="font-size: 1.10em"><code>use_data()</code></span></h5>
<p>The objects created from the <code>.R</code> files in <code>data-raw/</code> are stored in the <code>data/</code> folder (and any other data you need in your app-package).</p>
<blockquote class="blockquote">
<p>“<em>store R objects and make them available to the user…in <code>data/</code></em>”</p>
</blockquote>
<p>For example, in <code>data-raw/movies.R</code>, I load the movies data from <code>inst/extdata/</code>, and save <code>movies</code> to the <code>data/</code> folder:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="do">## code to prepare `movies` dataset goes here</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"inst/extdata/movies.RData"</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_data</span>(movies, <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>The output is below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Saving <span class="st">'movies'</span> to <span class="st">'data/movies.rda'</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Document your data <span class="er">(</span><span class="ex">see</span> <span class="st">'https://r-pkgs.org/data.html'</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
<p>Follow <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/rd-other.html">this guide</a> to document your datasets.</p>
<div class="cell">
<details class="code-fold">
<summary>show/hide movies data documentation</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Movies dataset</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' A dataset containing movie rankings from IMDB and Rotten Tomatoes. Original</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' source found [here](https://rstudio-education.github.io/shiny-course/)</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @format A data frame with 651 rows and 34 variables:</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' \describe{</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{title}{movie title}</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{title_type}{title type (Documentary, Feature Film, TV, Movie)}</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{genre}{movie genre (Action &amp; Adventure, Animation,</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="co">#'                Art House &amp; International, Comedy, Documentary, Drama, Horror,</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="co">#'                Musical &amp; Performing Arts, Mystery &amp; Suspense, Other,</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a><span class="co">#'                Science Fiction &amp; Fantasy)}</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{runtime}{length of film (in minutes)}</span></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{mpaa_rating}{G, NC-17, PG, PG-13, R, Unrated}</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{studio}{studio movie was filmed in}</span></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{thtr_rel_date}{Theatre release date}</span></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{thtr_rel_year}{Theatre release year}</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{thtr_rel_day}{Theatre release day}</span></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{dvd_rel_date}{DVD release date}</span></span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{dvd_rel_year}{DVD release year}</span></span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{dvd_rel_month}{DVD release month}</span></span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{dvd_rel_day}{DVD release day}</span></span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{imdb_rating}{IMDB rating}</span></span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{imdb_num_votes}{IMDB number of votes}</span></span>
<span id="cb66-27"><a href="#cb66-27" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{critics_rating}{Critics rating}</span></span>
<span id="cb66-28"><a href="#cb66-28" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{critics_score}{Critics score}</span></span>
<span id="cb66-29"><a href="#cb66-29" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{audience_rating}{Audience rating}</span></span>
<span id="cb66-30"><a href="#cb66-30" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{audience_score}{Audience score}</span></span>
<span id="cb66-31"><a href="#cb66-31" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{best_pic_nom}{Best picture nomination?}</span></span>
<span id="cb66-32"><a href="#cb66-32" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{best_pic_win}{Best picture win?}</span></span>
<span id="cb66-33"><a href="#cb66-33" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{best_actor_win}{Best actor win?}</span></span>
<span id="cb66-34"><a href="#cb66-34" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{best_actress_win}{Best actrss win?}</span></span>
<span id="cb66-35"><a href="#cb66-35" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{best_dir_win}{Best director win?}</span></span>
<span id="cb66-36"><a href="#cb66-36" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{top200_box}{Top 200 box-office?}</span></span>
<span id="cb66-37"><a href="#cb66-37" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{director}{Film director name}</span></span>
<span id="cb66-38"><a href="#cb66-38" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{actor1}{Actor 1 name}</span></span>
<span id="cb66-39"><a href="#cb66-39" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{actor2}{Actor 2 name}</span></span>
<span id="cb66-40"><a href="#cb66-40" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{actor3}{Actor 3 name}</span></span>
<span id="cb66-41"><a href="#cb66-41" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{actor4}{Actor 4 name}</span></span>
<span id="cb66-42"><a href="#cb66-42" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{actor5}{Actor 5 name}</span></span>
<span id="cb66-43"><a href="#cb66-43" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{imdb_url}{IMDB website url}</span></span>
<span id="cb66-44"><a href="#cb66-44" aria-hidden="true" tabindex="-1"></a><span class="co">#'   \item{rt_url}{Rotten Tomatoes website url}</span></span>
<span id="cb66-45"><a href="#cb66-45" aria-hidden="true" tabindex="-1"></a><span class="co">#' }</span></span>
<span id="cb66-46"><a href="#cb66-46" aria-hidden="true" tabindex="-1"></a><span class="st">"movies"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The <code>fivethirtyeight</code> package also has <a href="https://github.com/rudeboybert/fivethirtyeight/blob/master/R/data.R">great examples of documented datasets.</a></p>
<p>After loading and documenting your package, you can view structure and variable names of the <code>movies</code> data by entering <code>??movies</code> in the Console:</p>
<div class="page-columns page-full">
<div id="fig-data_documentation" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-data_documentation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<div id="fig-data_documentation" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure page-columns page-full">
<div aria-describedby="fig-data_documentation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<a href="data_documentation.png" class="lightbox page-columns page-full" data-gallery="fig-data_documentation" title="Figure&nbsp;2&nbsp;(a): movies data documentation"><img src="data_documentation.png" class="img-fluid quarto-figure quarto-figure-center figure-img column-page-inset-right" style="width:80.0%" data-ref-parent="fig-data_documentation"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-data_documentation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) <code>movies</code> data documentation
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-data_documentation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Documentation for <code>gap::movies</code> stored in <code>R/data.R</code>
</figcaption>
</figure>
</div>
</div>
</section>
</section>
<section id="tests" class="level4">
<h4 class="anchored" data-anchor-id="tests"><span style="font-size: 1.10em"><code>Tests</code></span></h4>
<p>The <code>tests/</code> folder was created in <code>dev/01_start.R</code> with <a href="https://thinkr-open.github.io/golem/reference/use_recommended.html"><code>golem::use_recommended_tests()</code></a>. This function is a wrapper around <code>usethis::use_testthat()</code>, and it sets up the <code>tests/</code> folder:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>tests</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>├── spelling.R</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>├── testthat/</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>└── testthat.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In <code>dev/02_dev.R</code>, the <a href="https://thinkr-open.github.io/golem/reference/add_module.html"><code>golem::add_module()</code></a> and <a href="https://thinkr-open.github.io/golem/reference/utils_files.html"><code>golem::add_utils()</code>/<code>golem::add_fct()</code></a> functions also include a <code>with_test = TRUE</code> argument, which creates a test file in the <code>tests/</code> folder.</p>
<p>These functions add two test files in <code>tests/testthat/</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>tests/testthat</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>├── test-golem-recommended.R</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>├── test-golem_utils_server.R</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>└── test-golem_utils_ui.R</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>1 directory, 3 files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>These files test the functions in the files <code>golem_utils_ui.R</code> and <code>golem_utils_server.R</code>, and we can run them independently with <code>testthat::test_file()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">test_file</span>(<span class="st">"tests/testthat/test-golem_utils_server.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> FAIL 0 <span class="er">|</span> <span class="er">WARN</span> <span class="ex">0</span> <span class="kw">|</span> <span class="ex">SKIP</span> 0 <span class="kw">|</span> <span class="ex">PASS</span> 13 ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">test_file</span>(<span class="st">"tests/testthat/test-golem_utils_ui.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> FAIL 0 <span class="er">|</span> <span class="er">WARN</span> <span class="ex">0</span> <span class="kw">|</span> <span class="ex">SKIP</span> 0 <span class="kw">|</span> <span class="ex">PASS</span> 51 ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="documentation" class="level4">
<h4 class="anchored" data-anchor-id="documentation"><span style="font-size: 1.10em"><code>Documentation</code></span></h4>
<p>R package vignettes contain high-level, long-form documentation for your package. These R Markdown documents combine narrative text and code that describe how the ‘parts’ (functions, data, etc.) of the package behave. In app-packages, vignettes might included the following information:</p>
<p>For <code>shiny</code> app-packages, the following types of documentation might be included in the vignettes:</p>
<div>

</div>
</section>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section"></h4>
<ol type="1">
<li><p>Introduction to the package</p></li>
<li><p>Installation guide</p></li>
<li><p>Usage examples</p></li>
<li><p>Description of the application and modules</p></li>
<li><p>Application workflow</p></li>
<li><p>Data preparation</p></li>
</ol>
</section>
<section id="section-1" class="level4">
<h4 class="anchored" data-anchor-id="section-1"></h4>
</section>
</div>
<section id="section-2" class="level3 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 class="anchored" data-anchor-id="section-2"></h3>
<ol start="7" type="1">
<li><p>Troubleshooting</p></li>
<li><p>FAQs</p></li>
<li><p>Advanced usage</p></li>
<li><p>Details on functions and datasets</p></li>
<li><p>References and Contact information</p></li>
</ol>
</section>
</div>
</div>
<p>To create a new vignette, run <code>usethis::use_vignette("NAME OF VIGNETTE")</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_vignette</span>(<span class="st">"gap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/Users/mjfrigaard/projects/gap'</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'knitr'</span> to Suggests field in DESCRIPTION</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'rmarkdown'</span> to Suggests field in DESCRIPTION</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'knitr'</span> to VignetteBuilder</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'inst/doc'</span> to <span class="st">'.gitignore'</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Creating <span class="st">'vignettes/'</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'*.html'</span>, <span class="st">'*.R'</span> to <span class="st">'vignettes/.gitignore'</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'vignettes/gap.Rmd'</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Modify <span class="st">'vignettes/gap.Rmd'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The vignette file opens with the title matching the argument passed to <code>use_vignette()</code>. To build the vignettes in your package, run:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build_vignettes</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> package vignettes
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>As described in <a href="https://engineering-shiny.org/building-ispum-app.html#rmd-vignettes-and-documentation-first">‘Rmd, Vignettes, and documentation first’</a>, R markdown vignettes are a perfect sandbox for building and testing shiny apps.</p>
<blockquote class="blockquote">
<p>‘the good news is that when checking a package, i.e.&nbsp;when running <code>check()</code> from <code>devtools</code> (Wickham, Hester, and Chang 2020) or <code>R CMD check</code>, the Vignettes are going to be built, and the process will fail if at least one of the Vignettes fails to render. That way, you can use the documentation of the back-end as an extra tool for doing unit testing!’</p>
<p>‘One radical approach to the ’Rmd first’ philosophy is to write everything in an Rmd from the very beginning of your project: write the function code, their roxygen tags, their tests, etc., then move everything to the correct spot in the package infrastructure once you are happy with everything. And of course, when you need to add another feature to your app, open a new markdown and start the process of development and documentation again’</p>
</blockquote>
</div>
</div>
</div>
</div>
<section id="code-coverage" class="level4">
<h4 class="anchored" data-anchor-id="code-coverage"><span style="font-size: 1.10em"><code>Code Coverage</code></span></h4>
<p>Test code coverage measures the extent to which the test cases cover the possible execution paths in the package codebase–its a way to ensure that the tests are robust enough to verify that the code behaves as expected.</p>
<p>There are two functions/methods used to calculate code coverage in your application: <code>usethis::use_coverage()</code> and <code>covrpage::covrpage()</code>.</p>
<section id="usethisuse_coverage" class="level5">
<h5 class="anchored" data-anchor-id="usethisuse_coverage"><span style="font-size: 1.10em"><code>usethis::use_coverage()</code></span></h5>
<p><code>use_coverage()</code> is part of the <code>usethis</code> package and can be run interactively during development:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_coverage</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb77"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>✔ Setting active project to '/Users/mjfrigaard/projects/gap'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="covrpagecovrpage" class="level5">
<h5 class="anchored" data-anchor-id="covrpagecovrpage"><span style="font-size: 1.10em"><code>covrpage::covrpage()</code></span></h5>
<p>Install <code>covrpage</code> using the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="co"># remotes::install_github('yonicd/covrpage', </span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   force = TRUE, quiet = TRUE)</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(covrpage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To use <code>covrpage</code>, run the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>covrpage<span class="sc">::</span><span class="fu">covrpage</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>covrpage<span class="sc">::</span><span class="fu">covrpage</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This sets up the <code>README</code> in the <code>tests/</code> folder.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>tests/</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>├── README.md &lt;- covrpage README!</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>├── spelling.R</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>├── testthat</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>│   ├── test-golem-recommended.R</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>│   ├── test-golem_utils_server.R</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>│   └── test-golem_utils_ui.R</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>└── testthat.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The test coverage vignette is created with <code>use_covrpage_vignette()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>covrpage<span class="sc">::</span><span class="fu">use_covrpage_vignette</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb83"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>copying tests_and_coverage.Rmd into ./vignettes</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>adding inst/doc to .gitignore</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>adding knitr,rmarkdown to Suggests field in ./DESCRIPTION</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>adding VignetteBuilder: knitr to ./DESCRIPTION</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can view the <code>covrpage</code> for this app <a href="https://github.com/mjfrigaard/gap/tree/main/tests">here</a></p>
</section>
</section>
<section id="ci" class="level4">
<h4 class="anchored" data-anchor-id="ci"><span style="font-size: 1.10em"><code>CI</code></span></h4>
<p>Continuous integration can be handled with one of the GitHub Actions functions (make sure you’re using Git). See the <a href="https://usethis.r-lib.org/reference/use_github_action.html"><code>usethis</code> website</a> for more information on using GitHub Actions.</p>
<p>If you’re using another CI management system, the following options are available.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<section id="github-actions-ci" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h5 class="anchored" data-anchor-id="github-actions-ci">Github Actions CI</h5>
<ul>
<li><p>Set up GitHub actions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># GitHub Actions</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chose one of the three</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_check_release</span>()</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_check_standard</span>()</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_check_full</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add action for PR</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_pr_commands</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
</section>
<section id="other-ci-options" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h5 class="anchored" data-anchor-id="other-ci-options">Other CI Options</h5>
<ul>
<li><p>Travis CI</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_travis</span>()</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_travis_badge</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>AppVeyor</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_appveyor</span>()</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_appveyor_badge</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Circle CI</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_circleci</span>()</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_circleci_badge</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Jenkins</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_jenkins</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>GitLab CI</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_gitlab_ci</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
</section>
</div>
</div>
</section>
</section>
<section id="end-02_dev.r" class="level3">
<h3 class="anchored" data-anchor-id="end-02_dev.r">End <span style="font-size: 1.10em"><code>02_dev.R</code></span></h3>
<p>This concludes the <code>02_dev.R</code> file. It’s likely you’ll return to this file repeatedly for various functions during development, so I’d leave it in the <code>dev/</code> folder for future reference.</p>
</section>
</section>
<section id="use" class="level2">
<h2 class="anchored" data-anchor-id="use">Use</h2>
<p>In this section, I’ll go over the functions used during application development, how to launch the application (locally, in the IDE), and the third and final <code>dev/</code> script (<code>dev/03_deploy.R</code>), which is full of options for deploying your shiny app.</p>
<section id="writing-code" class="level3">
<h3 class="anchored" data-anchor-id="writing-code">Writing code</h3>
<p>While developing, I find the <code>add_*</code> functions are incredibly helpful (<code>add_module()</code>, <code>add_utils()</code>, and <code>add_fct()</code>). New modules functions can be created with <a href="https://thinkr-open.github.io/golem/reference/add_module.html"><code>golem::add_module("name")</code></a> along with their tests and utility functions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add_module</span>(<span class="at">name =</span> <span class="st">"plot"</span>, <span class="at">utils =</span> <span class="st">"server"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at R/mod_plot.R</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at R/mod_plot_utils_server.R</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at tests/testthat/test-mod_plot.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>The functions added to the <code>R/</code> folder include <a href="https://style.tidyverse.org/documentation.html#internal-functions"><code>@noRd</code></a> by default (which must be removed create the <code>.Rd</code> files in the <code>man/</code> folder)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># UI module template -------------------</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="co">#' test UI Function</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' @description A shiny Module.</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param id,input,output,session Internal parameters for {shiny}.</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @noRd &lt;- this one!</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny NS tagList</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a><span class="co"># server module template ---------------</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' test Server Functions</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a><span class="co">#' @noRd &lt;- and this one!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>UI module functions end with a <code>_ui</code> suffix:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide mod_plot_ui()</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' plot UI Function</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param id</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return shiny UI module</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export mod_plot_ui</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny NS tagList tags</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny plotOutput verbatimTextOutput</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>mod_plot_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>  ns <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">NS</span>(id)</span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">tagList</span>(</span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">br</span>(),</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">blockquote</span>(</span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">em</span>(</span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>        shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h6</span>(</span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>          <span class="st">"The code for this application comes from the "</span>,</span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>          shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">a</span>(<span class="st">"Building web applications with Shiny"</span>,</span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">href =</span> <span class="st">"https://rstudio-education.github.io/shiny-course/"</span></span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a>          <span class="st">"tutorial"</span></span>
<span id="cb95-22"><a href="#cb95-22" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb95-23"><a href="#cb95-23" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb95-24"><a href="#cb95-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb95-25"><a href="#cb95-25" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span><span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="fu">ns</span>(<span class="st">"scatterplot"</span>))</span>
<span id="cb95-26"><a href="#cb95-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb95-27"><a href="#cb95-27" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></li>
<li><p>Server module functions end with a <code>_server</code> suffix:</p>
<div class="cell">
<details class="code-fold">
<summary>show/hide mod_plot_server()</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' plot Server Functions</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param id module id</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param var_inputs inputs from mod_var_input</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return shiny server module</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export mod_plot_server</span></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny NS moduleServer reactive</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom tools toTitleCase</span></span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny renderPlot</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom stringr str_replace_all</span></span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom ggplot2 labs theme_minimal theme</span></span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>mod_plot_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id, var_inputs) {</span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>    movies <span class="ot">&lt;-</span> gap<span class="sc">::</span>movies</span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>    inputs <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">reactive</span>({</span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>      plot_title <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">toTitleCase</span>(var_inputs<span class="sc">$</span><span class="fu">plot_title</span>())</span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> var_inputs<span class="sc">$</span><span class="fu">x</span>(),</span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> var_inputs<span class="sc">$</span><span class="fu">y</span>(),</span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">z =</span> var_inputs<span class="sc">$</span><span class="fu">z</span>(),</span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> var_inputs<span class="sc">$</span><span class="fu">alpha</span>(),</span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> var_inputs<span class="sc">$</span><span class="fu">size</span>(),</span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_title =</span> plot_title</span>
<span id="cb96-27"><a href="#cb96-27" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb96-28"><a href="#cb96-28" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb96-29"><a href="#cb96-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-30"><a href="#cb96-30" aria-hidden="true" tabindex="-1"></a>    output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">renderPlot</span>({</span>
<span id="cb96-31"><a href="#cb96-31" aria-hidden="true" tabindex="-1"></a>      plot <span class="ot">&lt;-</span> <span class="fu">point_plot</span>(</span>
<span id="cb96-32"><a href="#cb96-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">df =</span> movies,</span>
<span id="cb96-33"><a href="#cb96-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>x,</span>
<span id="cb96-34"><a href="#cb96-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>y,</span>
<span id="cb96-35"><a href="#cb96-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">col_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>z,</span>
<span id="cb96-36"><a href="#cb96-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>alpha,</span>
<span id="cb96-37"><a href="#cb96-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">size_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>size</span>
<span id="cb96-38"><a href="#cb96-38" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb96-39"><a href="#cb96-39" aria-hidden="true" tabindex="-1"></a>      plot <span class="sc">+</span></span>
<span id="cb96-40"><a href="#cb96-40" aria-hidden="true" tabindex="-1"></a>        ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb96-41"><a href="#cb96-41" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="fu">inputs</span>()<span class="sc">$</span>plot_title,</span>
<span id="cb96-42"><a href="#cb96-42" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(tools<span class="sc">::</span><span class="fu">toTitleCase</span>(<span class="fu">inputs</span>()<span class="sc">$</span>x), <span class="st">"_"</span>, <span class="st">" "</span>),</span>
<span id="cb96-43"><a href="#cb96-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(tools<span class="sc">::</span><span class="fu">toTitleCase</span>(<span class="fu">inputs</span>()<span class="sc">$</span>y), <span class="st">"_"</span>, <span class="st">" "</span>)</span>
<span id="cb96-44"><a href="#cb96-44" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb96-45"><a href="#cb96-45" aria-hidden="true" tabindex="-1"></a>        ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb96-46"><a href="#cb96-46" aria-hidden="true" tabindex="-1"></a>        ggplot2<span class="sc">::</span><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb96-47"><a href="#cb96-47" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb96-48"><a href="#cb96-48" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb96-49"><a href="#cb96-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb96-50"><a href="#cb96-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-51"><a href="#cb96-51" aria-hidden="true" tabindex="-1"></a><span class="do">## To be copied in the UI</span></span>
<span id="cb96-52"><a href="#cb96-52" aria-hidden="true" tabindex="-1"></a><span class="co"># mod_plot_ui("plot_1")</span></span>
<span id="cb96-53"><a href="#cb96-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-54"><a href="#cb96-54" aria-hidden="true" tabindex="-1"></a><span class="do">## To be copied in the server</span></span>
<span id="cb96-55"><a href="#cb96-55" aria-hidden="true" tabindex="-1"></a><span class="co"># mod_plot_server("plot_1")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></li>
</ul>
<p>See the utility function and other module in the <code>gap</code> app-package on GitHub below:</p>
<ol type="1">
<li><a href="https://github.com/mjfrigaard/gap/blob/main/R/mod_var.R"><code>R/mod_var.R</code></a><br>
</li>
<li><a href="https://github.com/mjfrigaard/gap/blob/main/R/mod_plot_utils_server.R"><code>R/mod_plot_utils_server.R</code></a></li>
</ol>
<ul>
<li><p>Include tests for new modules and functions using the <code>with_test = TRUE</code> argument</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tests/testthat/</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> _snaps</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-golem-recommended.R</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-golem_utils_server.R</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-golem_utils_ui.R</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-mod_plot.R</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-mod_plot_utils_server.R</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>            <span class="ex">└──</span> test-mod_var_input.R</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span> directories, 6 files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Module names: <strong>tip</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Including <code>mod</code> in the name of module scripts and functions makes it easier to separate them from other functions in my package namespace, if I’m using tab-completion, or if I’m searching for a particular file using <code>Ctrl</code> + <code>.</code>:</p>
<div id="fig-go-to" class="column quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-go-to-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="go-to-file.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="Figure&nbsp;3: Go to File/Function in RStudio"><img src="go-to-file.png" class="quarto-figure quarto-figure-center figure-img" style="width:90.0%;height:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-go-to-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: <strong>Go to File/Function</strong> in RStudio
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>The updated <code>covrpage</code> report is available <a href="https://github.com/mjfrigaard/gap/tree/main/tests">here</a></p>
</section>
<section id="adding-resources" class="level3">
<h3 class="anchored" data-anchor-id="adding-resources">Adding resources</h3>
<p>If I want to include other files (like images), I can add these files to <code>inst/app/www/</code>,</p>
<section id="instappwww" class="level4">
<h4 class="anchored" data-anchor-id="instappwww"><span style="font-size: 1.10em"><code>inst/app/www</code></span></h4>
<div class="sourceCode" id="cb98"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a># add icon</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>inst/app</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>      └── www/</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>           └── shiny.png</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then I can include the path in the UI (see example below):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add icon</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/shiny.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="addresourcepath" class="level4">
<h4 class="anchored" data-anchor-id="addresourcepath"><span style="font-size: 1.10em"><code>addResourcePath()</code></span></h4>
<p>If I wanted to include images in their own folder (like <code>images/</code>), I can use <code>golem::addResourcePath()</code> to add the name of the sub-folder to <code>inst/app/</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add icon</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_resource_path</span>(</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">prefix =</span> <span class="st">'images'</span>, </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">directoryPath =</span> <span class="fu">system.file</span>(<span class="st">'app/images'</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">package =</span> <span class="st">'gap'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now I can add the image file to the <code>inst/app/www/images/</code> folder and include the following code in the UI:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add icon</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/images/golem-hex.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>In <code>R/app_ui.R</code>, the <code>app_ui()</code> function contains the UI layout functions (<code>fluidPage()</code>, <code>sidebarLayout()</code>, etc.), and a call to <code>golem_add_external_resources()</code>:</p>
<div class="cell">
<details class="code-fold">
<summary>show/hide app_ui()</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' The application User-Interface</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param request Internal parameter for `{shiny}`.</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co">#'     DO NOT REMOVE.</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' @import shiny</span></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @keywords internal</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>app_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(request) {</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">tagList</span>(</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Leave this function for adding external resources</span></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">golem_add_external_resources</span>(),</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your application UI logic</span></span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span><span class="fu">fluidPage</span>(</span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"gap"</span>),</span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">sidebarLayout</span>(</span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>        shiny<span class="sc">::</span><span class="fu">sidebarPanel</span>(</span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mod_var_input_ui</span>(<span class="st">"vars"</span>)</span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a>        shiny<span class="sc">::</span><span class="fu">mainPanel</span>(</span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a>          <span class="co"># add shiny hex in www/</span></span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a>          shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/shiny.png"</span>),</span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mod_plot_ui</span>(<span class="st">"plot"</span>),</span>
<span id="cb102-22"><a href="#cb102-22" aria-hidden="true" tabindex="-1"></a>          <span class="co"># add golem hex (in www/images/)</span></span>
<span id="cb102-23"><a href="#cb102-23" aria-hidden="true" tabindex="-1"></a>          shiny<span class="sc">::</span><span class="fu">fluidRow</span>(</span>
<span id="cb102-24"><a href="#cb102-24" aria-hidden="true" tabindex="-1"></a>            shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">em</span>(shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h4</span>(</span>
<span id="cb102-25"><a href="#cb102-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Brought to you by: "</span>,</span>
<span id="cb102-26"><a href="#cb102-26" aria-hidden="true" tabindex="-1"></a>              shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/images/golem-hex.png"</span>)</span>
<span id="cb102-27"><a href="#cb102-27" aria-hidden="true" tabindex="-1"></a>            ))</span>
<span id="cb102-28"><a href="#cb102-28" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb102-29"><a href="#cb102-29" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb102-30"><a href="#cb102-30" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb102-31"><a href="#cb102-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb102-32"><a href="#cb102-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb102-33"><a href="#cb102-33" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The <code>golem_add_external_resources()</code> function is below:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>golem_add_external_resources()</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this is also included in the app_ui.R script</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>golem_add_external_resources <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_resource_path</span>(</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"www"</span>,</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">app_sys</span>(<span class="st">"app/www"</span>)</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>  tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">favicon</span>(),</span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bundle_resources</span>(</span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">path =</span> <span class="fu">app_sys</span>(<span class="st">"app/www"</span>),</span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">app_title =</span> <span class="st">"gap"</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add here other external resources</span></span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># for example, you can add shinyalert::useShinyalert()</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></li>
</ul>
<p>Now when I run <code>devtools::load_all()</code>, <code>devtools::document()</code>, install/restart, and load the package, I see the images properly rendered with the application:</p>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem_add_external_resources()</code>: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p><code>golem</code> app-packages take advantage of the <code>inst/</code> folder to load external resources. Using <code>golem_add_external_resources()</code> helps ensure the external resources are added to the application and loaded when the application is deployed.</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="begin-03_deploy.r" class="level3">
<h3 class="anchored" data-anchor-id="begin-03_deploy.r">Begin <span style="font-size: 1.10em"><code>03_deploy.R</code></span></h3>
<p>The final step in the guided tour contains functions for deploying a new application to Posit Connect or Docker (it opens automatically after completing the <code>dev/02_dev.R</code>)</p>
<section id="run-checks" class="level5">
<h5 class="anchored" data-anchor-id="run-checks"><span style="font-size: 1.10em"><code>Run</code> <code>checks</code></span></h5>
<p>These functions are part of the package development process. <code>devtools::check()</code> should be run frequently (I run it after creating a new .R file or creating a new test).</p>
<p>If you plan on submitting a package to CRAN, the <code>rhub::check_for_cran()</code> function will create a ‘to-do’ list of CRAN comments.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Run checks ----</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Check the package before sending to prod</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">check</span>()</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>rhub<span class="sc">::</span><span class="fu">check_for_cran</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><a href="https://r-pkgs.org/workflow101.html#sec-workflow101-r-cmd-check"><code>devtools::check()</code></a>: “<em>It’s counter-intuitive but the key to minimizing this pain is to run <code>R CMD check</code> more often: the sooner you find a problem, the easier it is to fix</em>” - <a href="https://r-pkgs.org/workflow101.html#sec-workflow101-r-cmd-check">R packages</a></p></li>
<li><p>The outputs from the initial <code>devtools::check()</code> are below (I’ve split it up into sections)</p>
<ul>
<li><span style="font-size: 0.90em"><code>Documenting</code></span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>show/hide check() Documenting output</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="ex">══</span> Documenting ═══════════════════════════════════════════════════════════</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Updating gap documentation</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading gap</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="ex">══</span> Building ═════════════════════════════════════════════════════════════</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Setting</span> env vars:</span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> CFLAGS    : <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-fdiagnostics-color</span><span class="op">=</span>always</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> CXXFLAGS  : <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-fdiagnostics-color</span><span class="op">=</span>always</span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> CXX11FLAGS: <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-fdiagnostics-color</span><span class="op">=</span>always</span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> CXX14FLAGS: <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-fdiagnostics-color</span><span class="op">=</span>always</span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> CXX17FLAGS: <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-fdiagnostics-color</span><span class="op">=</span>always</span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> CXX20FLAGS: <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-fdiagnostics-color</span><span class="op">=</span>always</span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> R CMD build ──────────────────────────────────────────────────────────</span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for file <span class="st">'/projects/apps/gap/DESCRIPTION'</span> ...</span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  preparing ‘gap’: <span class="er">(</span><span class="ex">561ms</span><span class="kw">)</span></span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking DESCRIPTION meta-information ...</span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  installing the package to build vignettes</span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  creating vignettes <span class="er">(</span><span class="ex">5.6s</span><span class="kw">)</span></span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  excluding invalid files</span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>   <span class="ex">Subdirectory</span> <span class="st">'R'</span> contains invalid file names:</span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>     <span class="ex">‘_disable_autoload.R’</span></span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  checking for LF line-endings in source and make files and shell scripts</span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  checking for empty or unneeded directories</span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  building ‘gap_0.0.0.9000.tar.gz’</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><span style="font-size: 0.90em"><code>Checking</code></span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>show/hide check() Checking output</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="ex">══</span> Checking ══════════════════════════════════════════════════════════════</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Setting</span> env vars:</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> _R_CHECK_CRAN_INCOMING_REMOTE_               : FALSE</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> _R_CHECK_CRAN_INCOMING_                      : FALSE</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> _R_CHECK_FORCE_SUGGESTS_                     : FALSE</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> _R_CHECK_PACKAGES_USED_IGNORE_UNUSED_IMPORTS_: FALSE</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> NOT_CRAN                                     : true</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> R CMD check ───────────────────────────────────────────────────────────</span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  using log directory ‘/private/var/folders/0x/x5wkbhmx0k74tncn9swz7xpr0000gn/T/RtmpYiEbLJ/file75936b43aefb/gap.Rcheck’</span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  using R version 4.2.3 <span class="er">(</span><span class="ex">2023-03-15</span><span class="kw">)</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  using platform: x86_64-apple-darwin17.0 <span class="er">(</span><span class="ex">64-bit</span><span class="kw">)</span></span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  using session charset: UTF-8</span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  using options ‘--no-manual <span class="at">--as-cran’</span></span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for file ‘gap/DESCRIPTION’</span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  this is package ‘gap’ version ‘0.0.0.9000’</span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  package encoding: UTF-8</span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking package namespace information</span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking package dependencies <span class="er">(</span><span class="ex">2s</span><span class="kw">)</span></span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking if this is a source package ...</span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking if there is a namespace</span>
<span id="cb106-21"><a href="#cb106-21" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for executable files <span class="er">(</span><span class="ex">592ms</span><span class="kw">)</span></span>
<span id="cb106-22"><a href="#cb106-22" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for hidden files and directories</span>
<span id="cb106-23"><a href="#cb106-23" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for portable file names</span>
<span id="cb106-24"><a href="#cb106-24" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for sufficient/correct file permissions</span>
<span id="cb106-25"><a href="#cb106-25" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking whether package ‘gap’ can be installed <span class="er">(</span><span class="ex">5s</span><span class="kw">)</span></span>
<span id="cb106-26"><a href="#cb106-26" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking installed package size</span>
<span id="cb106-27"><a href="#cb106-27" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking package directory ...</span>
<span id="cb106-28"><a href="#cb106-28" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for future file timestamps ...</span>
<span id="cb106-29"><a href="#cb106-29" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking ‘build’ directory</span>
<span id="cb106-30"><a href="#cb106-30" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking DESCRIPTION meta-information ...</span>
<span id="cb106-31"><a href="#cb106-31" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking top-level files ...</span>
<span id="cb106-32"><a href="#cb106-32" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for left-over files</span>
<span id="cb106-33"><a href="#cb106-33" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking index information ...</span>
<span id="cb106-34"><a href="#cb106-34" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking package subdirectories ...</span>
<span id="cb106-35"><a href="#cb106-35" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking R files for non-ASCII characters ...</span>
<span id="cb106-36"><a href="#cb106-36" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking R files for syntax errors ...</span>
<span id="cb106-37"><a href="#cb106-37" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking whether the package can be loaded <span class="er">(</span><span class="ex">1.2s</span><span class="kw">)</span></span>
<span id="cb106-38"><a href="#cb106-38" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking whether the package can be loaded with stated dependencies <span class="er">(</span><span class="ex">1s</span><span class="kw">)</span></span>
<span id="cb106-39"><a href="#cb106-39" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking whether the package can be unloaded cleanly <span class="er">(</span><span class="ex">998ms</span><span class="kw">)</span></span>
<span id="cb106-40"><a href="#cb106-40" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking whether the namespace can be loaded with stated dependencies <span class="er">(</span><span class="ex">991ms</span><span class="kw">)</span></span>
<span id="cb106-41"><a href="#cb106-41" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking whether the namespace can be unloaded cleanly <span class="er">(</span><span class="ex">1.2s</span><span class="kw">)</span></span>
<span id="cb106-42"><a href="#cb106-42" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking dependencies in R code <span class="er">(</span><span class="ex">1.1s</span><span class="kw">)</span></span>
<span id="cb106-43"><a href="#cb106-43" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking S3 generic/method consistency <span class="er">(</span><span class="ex">2.1s</span><span class="kw">)</span></span>
<span id="cb106-44"><a href="#cb106-44" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking replacement functions <span class="er">(</span><span class="ex">1.1s</span><span class="kw">)</span></span>
<span id="cb106-45"><a href="#cb106-45" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking foreign function calls <span class="er">(</span><span class="ex">1.1s</span><span class="kw">)</span></span>
<span id="cb106-46"><a href="#cb106-46" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking R code for possible problems <span class="er">(</span><span class="ex">6.8s</span><span class="kw">)</span></span>
<span id="cb106-47"><a href="#cb106-47" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking Rd files <span class="er">(</span><span class="ex">406ms</span><span class="kw">)</span></span>
<span id="cb106-48"><a href="#cb106-48" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking Rd metadata ...</span>
<span id="cb106-49"><a href="#cb106-49" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking Rd line widths ...</span>
<span id="cb106-50"><a href="#cb106-50" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking Rd cross-references ...</span>
<span id="cb106-51"><a href="#cb106-51" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for missing documentation entries <span class="er">(</span><span class="ex">1.2s</span><span class="kw">)</span></span>
<span id="cb106-52"><a href="#cb106-52" aria-hidden="true" tabindex="-1"></a><span class="ex">W</span>  checking for code/documentation mismatches <span class="er">(</span><span class="ex">2.4s</span><span class="kw">)</span></span>
<span id="cb106-53"><a href="#cb106-53" aria-hidden="true" tabindex="-1"></a>   <span class="ex">Data</span> codoc mismatches from documentation object <span class="st">'movies'</span>:</span>
<span id="cb106-54"><a href="#cb106-54" aria-hidden="true" tabindex="-1"></a>   <span class="ex">Variables</span> in data frame <span class="st">'movies'</span></span>
<span id="cb106-55"><a href="#cb106-55" aria-hidden="true" tabindex="-1"></a>     <span class="ex">Code:</span> actor1 actor2 actor3 actor4 actor5 audience_rating</span>
<span id="cb106-56"><a href="#cb106-56" aria-hidden="true" tabindex="-1"></a>           <span class="ex">audience_score</span> best_actor_win best_actress_win best_dir_win</span>
<span id="cb106-57"><a href="#cb106-57" aria-hidden="true" tabindex="-1"></a>           <span class="ex">best_pic_nom</span> best_pic_win critics_rating critics_score director</span>
<span id="cb106-58"><a href="#cb106-58" aria-hidden="true" tabindex="-1"></a>           <span class="ex">dvd_rel_date</span> dvd_rel_day dvd_rel_month dvd_rel_year genre</span>
<span id="cb106-59"><a href="#cb106-59" aria-hidden="true" tabindex="-1"></a>           <span class="ex">imdb_num_votes</span> imdb_rating imdb_url mpaa_rating rt_url runtime</span>
<span id="cb106-60"><a href="#cb106-60" aria-hidden="true" tabindex="-1"></a>           <span class="ex">studio</span> thtr_rel_date thtr_rel_day thtr_rel_month thtr_rel_year</span>
<span id="cb106-61"><a href="#cb106-61" aria-hidden="true" tabindex="-1"></a>           <span class="ex">title</span> title_type top200_box</span>
<span id="cb106-62"><a href="#cb106-62" aria-hidden="true" tabindex="-1"></a>     <span class="ex">Docs:</span> actor1 actor2 actor3 actor4 actor5 audience_rating</span>
<span id="cb106-63"><a href="#cb106-63" aria-hidden="true" tabindex="-1"></a>           <span class="ex">audience_score</span> best_actor_win best_actress_win best_dir_win</span>
<span id="cb106-64"><a href="#cb106-64" aria-hidden="true" tabindex="-1"></a>           <span class="ex">best_pic_nom</span> best_pic_win critics_rating critics_score director</span>
<span id="cb106-65"><a href="#cb106-65" aria-hidden="true" tabindex="-1"></a>           <span class="ex">dvd_rel_date</span> dvd_rel_day dvd_rel_month dvd_rel_year genre</span>
<span id="cb106-66"><a href="#cb106-66" aria-hidden="true" tabindex="-1"></a>           <span class="ex">imdb_num_votes</span> imdb_rating imdb_url mpaa_rating rt_url runtime</span>
<span id="cb106-67"><a href="#cb106-67" aria-hidden="true" tabindex="-1"></a>           <span class="ex">studio</span> thtr_rel_date thtr_rel_day thtr_rel_year title</span>
<span id="cb106-68"><a href="#cb106-68" aria-hidden="true" tabindex="-1"></a>           <span class="ex">title_type</span> top200_box</span>
<span id="cb106-69"><a href="#cb106-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-70"><a href="#cb106-70" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking Rd <span class="dt">\u</span>sage sections <span class="er">(</span><span class="ex">3.4s</span><span class="kw">)</span></span>
<span id="cb106-71"><a href="#cb106-71" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking Rd contents ...</span>
<span id="cb106-72"><a href="#cb106-72" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for unstated dependencies in examples ...</span>
<span id="cb106-73"><a href="#cb106-73" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking contents of ‘data’ directory ...</span>
<span id="cb106-74"><a href="#cb106-74" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking data for non-ASCII characters ...</span>
<span id="cb106-75"><a href="#cb106-75" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking LazyData</span>
<span id="cb106-76"><a href="#cb106-76" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking data for ASCII and uncompressed saves ...</span>
<span id="cb106-77"><a href="#cb106-77" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking installed files from ‘inst/doc’</span>
<span id="cb106-78"><a href="#cb106-78" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking files in ‘vignettes’ ...</span>
<span id="cb106-79"><a href="#cb106-79" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking examples <span class="er">(</span><span class="ex">2.4s</span><span class="kw">)</span></span>
<span id="cb106-80"><a href="#cb106-80" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking examples with <span class="at">--run-donttest</span> <span class="er">(</span><span class="ex">2.8s</span><span class="kw">)</span></span>
<span id="cb106-81"><a href="#cb106-81" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for unstated dependencies in ‘tests’ ...</span>
<span id="cb106-82"><a href="#cb106-82" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  checking tests ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><span style="font-size: 0.90em"><code>spelling.R</code></span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>show/hide check() spelling.R</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  Running ‘spelling.R’</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="ex">X</span>  Comparing ‘spelling.Rout’ to ‘spelling.Rout.save’ ...</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">6,47d5</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> Potential <span class="ex">spelling</span> errors:</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span>   WORD                   <span class="ex">FOUND</span> IN</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> CONFIG                 <span class="ex">get_golem_config.Rd:17</span></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> Codecov                <span class="ex">README.md:11</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> Config                 <span class="ex">get_golem_config.Rd:5,25</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> HTLM                   <span class="ex">with_red_star.Rd:10</span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> IMDB                   <span class="ex">movies.Rd:27,28,45,53</span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> Theatre                <span class="ex">movies.Rd:20,21,22</span></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> UI                     <span class="ex">mod_plot_ui.Rd:5,13,16</span></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span>                        mod_var_ui.Rd:5,13</span>
<span id="cb107-14"><a href="#cb107-14" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> Ventura                <span class="ex">tests_and_coverage.Rmd:109</span></span>
<span id="cb107-15"><a href="#cb107-15" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> ackage                 <span class="ex">README.md:6</span></span>
<span id="cb107-16"><a href="#cb107-16" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> actrss                 <span class="ex">movies.Rd:36</span></span>
<span id="cb107-17"><a href="#cb107-17" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> br                     <span class="ex">rep_br.Rd:5,10,13,16</span></span>
<span id="cb107-18"><a href="#cb107-18" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span>                        tests_and_coverage.Rmd:82</span>
<span id="cb107-19"><a href="#cb107-19" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> config                 <span class="ex">app_sys.Rd:15</span></span>
<span id="cb107-20"><a href="#cb107-20" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span>                        get_golem_config.Rd:15,20,22</span>
<span id="cb107-21"><a href="#cb107-21" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span>                        tests_and_coverage.Rmd:39,89</span>
<span id="cb107-22"><a href="#cb107-22" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> covr                   <span class="ex">tests_and_coverage.Rmd:29,116</span></span>
<span id="cb107-23"><a href="#cb107-23" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> covrpage               <span class="ex">tests_and_coverage.Rmd:24,117</span></span>
<span id="cb107-24"><a href="#cb107-24" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> darwin                 <span class="ex">tests_and_coverage.Rmd:108</span></span>
<span id="cb107-25"><a href="#cb107-25" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> enurl                  <span class="ex">tests_and_coverage.Rmd:83</span></span>
<span id="cb107-26"><a href="#cb107-26" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> goelm                  <span class="ex">title:1</span></span>
<span id="cb107-27"><a href="#cb107-27" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> jq                     <span class="ex">tests_and_coverage.Rmd:81</span></span>
<span id="cb107-28"><a href="#cb107-28" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> jquery                 <span class="ex">jq_hide.Rd:5,13</span></span>
<span id="cb107-29"><a href="#cb107-29" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> li                     <span class="ex">tests_and_coverage.Rmd:75,77</span></span>
<span id="cb107-30"><a href="#cb107-30" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> macOS                  <span class="ex">tests_and_coverage.Rmd:109</span></span>
<span id="cb107-31"><a href="#cb107-31" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> na                     <span class="ex">not_in.Rd:5,15</span></span>
<span id="cb107-32"><a href="#cb107-32" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span>                        not_na.Rd:5,13</span>
<span id="cb107-33"><a href="#cb107-33" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span>                        tests_and_coverage.Rmd:69</span>
<span id="cb107-34"><a href="#cb107-34" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> reactiveValues         <span class="ex">rv.Rd:5,13</span></span>
<span id="cb107-35"><a href="#cb107-35" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> reactiveValuesToList   <span class="ex">rvtl.Rd:5,13</span></span>
<span id="cb107-36"><a href="#cb107-36" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> rv                     <span class="ex">tests_and_coverage.Rmd:73</span></span>
<span id="cb107-37"><a href="#cb107-37" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> rvtl                   <span class="ex">tests_and_coverage.Rmd:73</span></span>
<span id="cb107-38"><a href="#cb107-38" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> sys                    <span class="ex">tests_and_coverage.Rmd:88</span></span>
<span id="cb107-39"><a href="#cb107-39" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> tagRemoveAttributes    <span class="ex">tests_and_coverage.Rmd:78</span></span>
<span id="cb107-40"><a href="#cb107-40" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> testthat               <span class="ex">tests_and_coverage.Rmd:49,115</span></span>
<span id="cb107-41"><a href="#cb107-41" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> tibble                 <span class="ex">point_plot.Rd:10</span></span>
<span id="cb107-42"><a href="#cb107-42" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> ui                  </span>
<span id="cb107-43"><a href="#cb107-43" aria-hidden="true" tabindex="-1"></a>   <span class="ex">tests_and_coverage.Rmd:37,41,54,74,74,75,75,76,76,77,77,78,78,79,</span></span>
<span id="cb107-44"><a href="#cb107-44" aria-hidden="true" tabindex="-1"></a>   <span class="ex">79,80,80,81,</span></span>
<span id="cb107-45"><a href="#cb107-45" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">81,82,82,83,83,84,84,85,85,86,92,93</span></span>
<span id="cb107-46"><a href="#cb107-46" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> undisplay              <span class="ex">tests_and_coverage.Rmd:79</span></span>
<span id="cb107-47"><a href="#cb107-47" aria-hidden="true" tabindex="-1"></a>   <span class="op">&lt;</span> ️                    <span class="ex">tests_and_coverage.Rmd:97</span>   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><span style="font-size: 0.90em"><code>testthat.R</code></span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>show/hide check() tests and coverage</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  Running ‘testthat.R’ <span class="er">(</span><span class="ex">2.9s</span><span class="kw">)</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for unstated dependencies in vignettes ...</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking package vignettes in ‘inst/doc’</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking re-building of vignette outputs <span class="er">(</span><span class="ex">1.6s</span><span class="kw">)</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for non-standard things in the check directory</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for detritus in the temp directory</span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">See</span></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>     <span class="ex">‘/private/var/folders/0x/x5wkbhmx0k74tncn9swz7xpr0000gn/T/RtmpYiEbLJ/file75936b43aefb/gap.Rcheck/00check.log’</span></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> details<span class="ex">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><span style="font-size: 0.90em"><code>R CMD check results</code></span></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>show/hide check() R CMD check</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> R CMD check results ──────────────────────────────────── gap 0.0.0.9000 ────</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Duration:</span> 48.2s</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="ex">❯</span> checking for code/documentation mismatches ... WARNING</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Data</span> codoc mismatches from documentation object <span class="st">'movies'</span>:</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">Variables</span> in data frame <span class="st">'movies'</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Code:</span> actor1 actor2 actor3 actor4 actor5 audience_rating</span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>          <span class="ex">audience_score</span> best_actor_win best_actress_win best_dir_win</span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a>          <span class="ex">best_pic_nom</span> best_pic_win critics_rating critics_score director</span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a>          <span class="ex">dvd_rel_date</span> dvd_rel_day dvd_rel_month dvd_rel_year genre</span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a>          <span class="ex">imdb_num_votes</span> imdb_rating imdb_url mpaa_rating rt_url runtime</span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a>          <span class="ex">studio</span> thtr_rel_date thtr_rel_day thtr_rel_month thtr_rel_year</span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a>          <span class="ex">title</span> title_type top200_box</span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Docs:</span> actor1 actor2 actor3 actor4 actor5 audience_rating</span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a>          <span class="ex">audience_score</span> best_actor_win best_actress_win best_dir_win</span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a>          <span class="ex">best_pic_nom</span> best_pic_win critics_rating critics_score director</span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a>          <span class="ex">dvd_rel_date</span> dvd_rel_day dvd_rel_month dvd_rel_year genre</span>
<span id="cb109-18"><a href="#cb109-18" aria-hidden="true" tabindex="-1"></a>          <span class="ex">imdb_num_votes</span> imdb_rating imdb_url mpaa_rating rt_url runtime</span>
<span id="cb109-19"><a href="#cb109-19" aria-hidden="true" tabindex="-1"></a>          <span class="ex">studio</span> thtr_rel_date thtr_rel_day thtr_rel_year title</span>
<span id="cb109-20"><a href="#cb109-20" aria-hidden="true" tabindex="-1"></a>          <span class="ex">title_type</span> top200_box</span>
<span id="cb109-21"><a href="#cb109-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-22"><a href="#cb109-22" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span> errors ✔ <span class="kw">|</span> <span class="ex">1</span> warning ✖ <span class="kw">|</span> <span class="ex">0</span> notes ✔</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></li>
<li><p><a href="https://r-hub.github.io/rhub/"><code>rhub::check_for_cran()</code></a>: “<em>run <code>check_for_cran()</code> and assign the result to an object</em>” … “<em>use the <code>cran_summary()</code> method to get a message that you can copy-paste in your <code>cran-comments.md</code> file</em>” - <a href="https://r-hub.github.io/rhub/articles/rhub.html#prepare-a-cran-submission"><code>rhub</code></a></p></li>
</ul>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>devtools::check()</code>: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>It’s easy to forget some of the development workflow steps while you’re creating an app-package–<code>devtools::check()</code> makes it easier to ensure you’re building a robust package (and app!).</p>
</div>
</div>
</div>
</div>
</section>
<section id="local-cran-or-package-manager" class="level5">
<h5 class="anchored" data-anchor-id="local-cran-or-package-manager"><span style="font-size: 1.10em"><code>Local</code>, <code>CRAN</code> <code>or</code> <code>Package</code> <code>Manager</code></span></h5>
<p><code>devtools::build()</code> is also a regular part of the package development process. This function will source and bundle your package (learn the differences <a href="https://r-pkgs.org/structure.html#sec-installed-package">here</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Deploy</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Local, CRAN or Package Manager ----</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="do">## This will build a tar.gz that can be installed locally,</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="do">## sent to CRAN, or to a package manager</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This will create a <code>gap_0.0.0.9000.tar.gz</code> file to share or submit to a package management system.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> R CMD build ───────────────────────────────────────────────────────────────</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking for file ‘/projects/apps/gap/DESCRIPTION’ ...</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  preparing ‘gap’: <span class="er">(</span><span class="ex">613ms</span><span class="kw">)</span></span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  checking DESCRIPTION meta-information ...</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  installing the package to build vignettes</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span>  creating vignettes <span class="er">(</span><span class="ex">6.6s</span><span class="kw">)</span></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  excluding invalid files</span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">Subdirectory</span> <span class="st">'R'</span> contains invalid file names:</span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>     <span class="ex">‘_disable_autoload.R’</span></span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  checking for LF line-endings in source and make files and shell scripts</span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  checking for empty or unneeded directories</span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a><span class="ex">─</span>  building ‘gap_0.0.0.9000.tar.gz’</span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb111-14"><a href="#cb111-14" aria-hidden="true" tabindex="-1"></a><span class="ex">[1]</span> <span class="st">"/projects/apps/gap_0.0.0.9000.tar.gz"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>devtools::install()</code> is another common development workflow function.</li>
</ul>
</section>
<section id="rstudio" class="level5">
<h5 class="anchored" data-anchor-id="rstudio"><span style="font-size: 1.10em"><code>RStudio</code></span></h5>
<p>To deploy an application with RStudio (Posit) products, use of the functions below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="do">## RStudio ----</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="do">## If you want to deploy on RStudio related platforms</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_rstudioconnect_file</span>()</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_shinyappsio_file</span>()</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_shinyserver_file</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><a href="https://thinkr-open.github.io/golem/reference/rstudio_deploy.html"><code>golem::add_rstudioconnect_file()</code></a><br>
</li>
<li><a href="https://thinkr-open.github.io/golem/reference/rstudio_deploy.html"><code>golem::add_shinyappsio_file()</code></a><br>
</li>
<li><a href="https://thinkr-open.github.io/golem/reference/rstudio_deploy.html"><code>golem::add_shinyserver_file()</code></a></li>
</ul>
</section>
<section id="docker" class="level5">
<h5 class="anchored" data-anchor-id="docker"><span style="font-size: 1.10em"><code>Docker</code></span></h5>
<p>If you use Docker to deploy applications, you can use the following functions:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>show/hide docker functions</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Docker ----</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="do">## If you want to deploy via a generic Dockerfile</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_dockerfile_with_renv</span>()</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="do">## If you want to deploy to ShinyProxy</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_dockerfile_with_renv_shinyproxy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Read more:</p>
<ul>
<li><a href="https://thinkr-open.github.io/golem/reference/dockerfiles.html"><code>golem::add_dockerfile_with_renv()</code></a><br>
</li>
<li><a href="https://thinkr-open.github.io/golem/reference/dockerfiles.html"><code>golem::add_dockerfile_with_renv_shinyproxy()</code></a></li>
</ul>
</section>
<section id="app.r" class="level4">
<h4 class="anchored" data-anchor-id="app.r"><span style="font-size: 1.10em"><code>app.R</code></span></h4>
<p>I’ll deploy my app using shinyapps.io, so after running <code>golem::add_shinyappsio_file()</code> I will see the following output and a new <code>app.R</code> file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_shinyappsio_file</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> Creating _disable_autoload.R ──────────────────────────────────</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Created</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/Users/mjfrigaard/projects/gap'</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^app\\.R$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^rsconnect$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'pkgload'</span> to Imports field in DESCRIPTION</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Refer to functions with <span class="kw">`</span><span class="fu">pkgload::fun()</span><span class="kw">`</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /Users/mjfrigaard/projects/gap/app.R</span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a><span class="ex">To</span> deploy, run:</span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> rsconnect::deployApp<span class="er">(</span><span class="kw">)</span></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Note that you<span class="st">'ll need to upload the whole package to ShinyApps.io</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>View the <code>app.R</code> file contents below:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Launch the ShinyApp (Do not remove this comment)</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="co"># To deploy, run: rsconnect::deployApp()</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Or use the blue button on top of this file</span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>pkgload<span class="sc">::</span><span class="fu">load_all</span>(<span class="at">export_all =</span> <span class="cn">FALSE</span>, <span class="at">helpers =</span> <span class="cn">FALSE</span>, <span class="at">attach_testthat =</span> <span class="cn">FALSE</span>)</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>( <span class="st">"golem.app.prod"</span> <span class="ot">=</span> <span class="cn">TRUE</span>)</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>gap<span class="sc">::</span><span class="fu">run_app</span>() <span class="co"># add parameters here (if any)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>app.R</code>: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Being able to run your application from <code>app.R</code> is helpful because it performs a few preliminary operations before launching:</p>
<ul>
<li><p><a href="https://search.r-project.org/CRAN/refmans/pkgload/html/load_all.html"><code>pkgload::load_all()</code></a>: ‘<em>It roughly simulates what happens when a package is installed and loaded with <code>library()</code>, without having to first install the package</em>’</p></li>
<li><p><a href="https://engineering-shiny.org/build-app-golem.html#using-golem-dev-functions"><code>options('golem.app.prod' = TRUE)</code></a>: ‘<em>use functions in your back-end for development purposes, that will be ignored in production</em>’</p></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="deployapp" class="level4">
<h4 class="anchored" data-anchor-id="deployapp"><span style="font-size: 1.10em"><code>deployApp()</code></span></h4>
<p>The <code>rsconnect::deployApp()</code> function will deploy the application to the shinyapps.io site (provided you have an account).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>rsconnect<span class="sc">::</span><span class="fu">deployApp</span>(<span class="at">appName =</span> <span class="st">"gap-movies"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Preparing</span> to deploy application...DONE</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Uploading</span> bundle for application: 9468261...DONE</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Deploying</span> bundle: 7466839 for application: 9468261 ...</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Waiting</span> for task: 1319021708</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Parsing manifest</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Building image: 8845318</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Installing system dependencies</span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Fetching packages</span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Building package: pkgload</span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Building package: testthat</span>
<span id="cb118-11"><a href="#cb118-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Installing files</span>
<span id="cb118-12"><a href="#cb118-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">building:</span> Pushing image: 8845318</span>
<span id="cb118-13"><a href="#cb118-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">deploying:</span> Starting instances</span>
<span id="cb118-14"><a href="#cb118-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">rollforward:</span> Activating new instances</span>
<span id="cb118-15"><a href="#cb118-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">success:</span> Stopping old instances</span>
<span id="cb118-16"><a href="#cb118-16" aria-hidden="true" tabindex="-1"></a><span class="ex">Application</span> successfully deployed to https://mjfrigaard.shinyapps.io/gap-movies/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>rsconnect::deployApp()</code>: <strong>Recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; font-style: italic; color: #696969;">
<p>The <code>rsconnect::deployApp()</code> function is helpful for quickly deploying a shiny app-package. I provide the <code>appName</code> because <code>gap</code> is not long enough, but there are other useful arguments for deploying an app into production.</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="end-03_deploy.r" class="level3">
<h3 class="anchored" data-anchor-id="end-03_deploy.r">End <span style="font-size: 1.10em"><code>03_deploy.R</code></span></h3>
<p>View the deployed application <a href="https://mjfrigaard.shinyapps.io/gap-movies/">here.</a></p>
</section>
</section>
<section id="recap" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="recap">Recap</h2>
<p>Building an application with <code>golem</code> is <em>very</em> similar to developing an R package. The overall process remains the same: New code is placed in <code>R/</code>, external resources are placed in <code>inst/</code>, tests are stored and run from <code>tests/testthat/</code>, etc. The figure below displays how the <code>golem</code> framework works within the R package structure to create ‘production-grade shiny applications’:</p>
<div class="page-columns page-full">
<div id="fig-golem_framework_overview" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-golem_framework_overview-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<div id="fig-golem_framework_overview" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure page-columns page-full">
<div aria-describedby="fig-golem_framework_overview-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<a href="golem_framework_overview.png" class="lightbox page-columns page-full" data-gallery="fig-golem_framework_overview" title="Figure&nbsp;4&nbsp;(a): golem app-package"><img src="golem_framework_overview.png" class="img-fluid quarto-figure quarto-figure-center figure-img column-page-inset-right" style="width:100.0%" data-ref-parent="fig-golem_framework_overview"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-golem_framework_overview-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) <code>golem</code> app-package
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-golem_framework_overview-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: <code>golem</code> framework overview
</figcaption>
</figure>
</div>
</div>
<p>I didn’t cover using <code>renv</code> with this app-package, but you can read more about this in the <a href="https://engineering-shiny.org/build-yourself-safety-net.html#b.-using-renv">Using {<code>renv</code>}</a> section.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/mjfrigaard\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>