<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Frigaard">
<meta name="dcterms.date" content="2023-05-01">

<title>@mjfrigaard - Creating shiny app-packages (golem)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../profile.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta name="twitter:title" content="@mjfrigaard - Creating shiny app-packages (golem)">
<meta name="twitter:description" content="Building a golem app-package: whole-game">
<meta name="twitter:image" content="https://mjfrigaard.github.io/series/shiny-frameworks/golem/image.png">
<meta name="twitter:image-height" content="1192">
<meta name="twitter:image-width" content="1060">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title"><span class="citation" data-cites="mjfrigaard">@mjfrigaard</span></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-blog" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Blog</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-blog">    
        <li>
    <a class="dropdown-item" href="../../../posts.html" rel="" target="">
 <span class="dropdown-text">Posts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../series.html" rel="" target="">
 <span class="dropdown-text">Series</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mjfrigaard" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/mjfrigaard" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#outline" id="toc-outline" class="nav-link active" data-scroll-target="#outline">Outline</a>
  <ul>
  <li><a href="#dev-scripts" id="toc-dev-scripts" class="nav-link" data-scroll-target="#dev-scripts"><span style="font-size: 1.20em"><code>dev/</code></span> scripts</a></li>
  </ul></li>
  <li><a href="#start" id="toc-start" class="nav-link" data-scroll-target="#start">Start</a>
  <ul>
  <li><a href="#begin-01_start.r" id="toc-begin-01_start.r" class="nav-link" data-scroll-target="#begin-01_start.r">Begin <span style="font-size: 1.20em"><code>01_start.R</code></span></a>
  <ul>
  <li><a href="#fill-the-description" id="toc-fill-the-description" class="nav-link" data-scroll-target="#fill-the-description"><span style="font-size: 1.10em"><code>Fill</code> <code>the</code> <code>DESCRIPTION</code></span></a></li>
  <li><a href="#set-golem-options" id="toc-set-golem-options" class="nav-link" data-scroll-target="#set-golem-options"><span style="font-size: 1.10rem"><code>Set</code> <code>{golem}</code> <code>options</code></span></a></li>
  <li><a href="#install-required-dev-dependencies" id="toc-install-required-dev-dependencies" class="nav-link" data-scroll-target="#install-required-dev-dependencies"><span style="font-size: 1.10em"><code>Install</code> <code>required</code> <code>dev</code> <code>dependencies</code></span></a></li>
  <li><a href="#create-common-files" id="toc-create-common-files" class="nav-link" data-scroll-target="#create-common-files"><span style="font-size: 1.10em"><code>Create</code> <code>Common</code> <code>Files</code></span></a></li>
  <li><a href="#init-testing-infrastructure" id="toc-init-testing-infrastructure" class="nav-link" data-scroll-target="#init-testing-infrastructure"><span style="font-size: 1.10em"><code>Init</code> <code>Testing</code> <code>Infrastructure</code></span></a></li>
  <li><a href="#favicon" id="toc-favicon" class="nav-link" data-scroll-target="#favicon"><span style="font-size: 1.10em"><code>Favicon</code></span></a></li>
  <li><a href="#add-helper-functions" id="toc-add-helper-functions" class="nav-link" data-scroll-target="#add-helper-functions"><span style="font-size: 1.10em"><code>Add helper functions</code></span></a>
  <ul class="collapse">
  <li><a href="#use_utils_ui" id="toc-use_utils_ui" class="nav-link" data-scroll-target="#use_utils_ui"><span style="font-size: 1.10em"><code>use_utils_ui()</code></span></a></li>
  <li><a href="#use_utils_server" id="toc-use_utils_server" class="nav-link" data-scroll-target="#use_utils_server"><span style="font-size: 1.10em"><code>use_utils_server()</code></span></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#end-01_start.r" id="toc-end-01_start.r" class="nav-link" data-scroll-target="#end-01_start.r">End <span style="font-size: 1.10em"><code>01_start.R</code></span></a></li>
  </ul></li>
  <li><a href="#build" id="toc-build" class="nav-link" data-scroll-target="#build">Build</a>
  <ul>
  <li><a href="#begin-02_dev.r" id="toc-begin-02_dev.r" class="nav-link" data-scroll-target="#begin-02_dev.r">Begin <span style="font-size: 1.10em"><code>02_dev.R</code></span></a>
  <ul>
  <li><a href="#app-files" id="toc-app-files" class="nav-link" data-scroll-target="#app-files">App files</a>
  <ul class="collapse">
  <li><a href="#app_ui.r" id="toc-app_ui.r" class="nav-link" data-scroll-target="#app_ui.r"><span style="font-size: 1.10em"><code>app_ui.R</code></span></a></li>
  <li><a href="#app_server.r" id="toc-app_server.r" class="nav-link" data-scroll-target="#app_server.r"><span style="font-size: 1.30em"><code>app_server.R</code></span></a></li>
  <li><a href="#app_config.r" id="toc-app_config.r" class="nav-link" data-scroll-target="#app_config.r"><span style="font-size: 1.30em"><code>app_config.R</code></span></a></li>
  <li><a href="#run_app.r" id="toc-run_app.r" class="nav-link" data-scroll-target="#run_app.r"><span style="font-size: 1.30em"><code>run_app.R</code></span></a></li>
  </ul></li>
  <li><a href="#dependencies" id="toc-dependencies" class="nav-link" data-scroll-target="#dependencies"><span style="font-size: 1.10em"><code>Dependencies</code></span></a></li>
  <li><a href="#add-modules" id="toc-add-modules" class="nav-link" data-scroll-target="#add-modules"><span style="font-size: 1.10em"><code>Add modules</code></span></a>
  <ul class="collapse">
  <li><a href="#add_module" id="toc-add_module" class="nav-link" data-scroll-target="#add_module"><span style="font-size: 1.10em"><code>add_module()</code></span></a></li>
  </ul></li>
  <li><a href="#add-helper-functions-1" id="toc-add-helper-functions-1" class="nav-link" data-scroll-target="#add-helper-functions-1"><span style="font-size: 1.10em"><code>Add helper functions</code></span></a>
  <ul class="collapse">
  <li><a href="#add_utils" id="toc-add_utils" class="nav-link" data-scroll-target="#add_utils"><span style="font-size: 1.10em"><code>add_utils()</code></span></a></li>
  <li><a href="#add_fct" id="toc-add_fct" class="nav-link" data-scroll-target="#add_fct"><span style="font-size: 1.10em"><code>add_fct()</code></span></a></li>
  </ul></li>
  <li><a href="#external-resources" id="toc-external-resources" class="nav-link" data-scroll-target="#external-resources"><span style="font-size: 1.10em"><code>External resources</code></span></a>
  <ul class="collapse">
  <li><a href="#javascript-files" id="toc-javascript-files" class="nav-link" data-scroll-target="#javascript-files">JavaScript files</a></li>
  <li><a href="#app-styling" id="toc-app-styling" class="nav-link" data-scroll-target="#app-styling">App styling</a></li>
  </ul></li>
  <li><a href="#add-internal-datasets" id="toc-add-internal-datasets" class="nav-link" data-scroll-target="#add-internal-datasets"><span style="font-size: 1.10em"><code>Add internal datasets</code></span></a>
  <ul class="collapse">
  <li><a href="#use_data_raw" id="toc-use_data_raw" class="nav-link" data-scroll-target="#use_data_raw"><span style="font-size: 1.10em"><code>use_data_raw()</code></span></a></li>
  <li><a href="#use_data" id="toc-use_data" class="nav-link" data-scroll-target="#use_data"><span style="font-size: 1.10em"><code>use_data()</code></span></a></li>
  <li><a href="#instextdata" id="toc-instextdata" class="nav-link" data-scroll-target="#instextdata"><span style="font-size: 1.10em"><code>inst/extdata</code></span></a></li>
  </ul></li>
  <li><a href="#tests" id="toc-tests" class="nav-link" data-scroll-target="#tests"><span style="font-size: 1.10em"><code>Tests</code></span></a></li>
  <li><a href="#documentation" id="toc-documentation" class="nav-link" data-scroll-target="#documentation"><span style="font-size: 1.10em"><code>Documentation</code></span></a></li>
  </ul></li>
  <li><a href="#code-coverage" id="toc-code-coverage" class="nav-link" data-scroll-target="#code-coverage"><span style="font-size: 1.10em"><code>Code Coverage</code></span></a>
  <ul>
  <li><a href="#usethisuse_coverage" id="toc-usethisuse_coverage" class="nav-link" data-scroll-target="#usethisuse_coverage"><span style="font-size: 1.10em"><code>usethis::use_coverage()</code></span></a></li>
  <li><a href="#covrpagecovrpage" id="toc-covrpagecovrpage" class="nav-link" data-scroll-target="#covrpagecovrpage"><span style="font-size: 1.10em"><code>covrpage::covrpage()</code></span></a></li>
  </ul></li>
  <li><a href="#ci" id="toc-ci" class="nav-link" data-scroll-target="#ci"><span style="font-size: 1.10em"><code>CI</code></span></a></li>
  <li><a href="#end-02_dev.r" id="toc-end-02_dev.r" class="nav-link" data-scroll-target="#end-02_dev.r">End <span style="font-size: 1.10em"><code>02_dev.R</code></span></a></li>
  </ul></li>
  <li><a href="#use" id="toc-use" class="nav-link" data-scroll-target="#use">Use</a>
  <ul>
  <li><a href="#writing-code" id="toc-writing-code" class="nav-link" data-scroll-target="#writing-code">Writing code</a></li>
  <li><a href="#adding-resources" id="toc-adding-resources" class="nav-link" data-scroll-target="#adding-resources">Adding resources</a></li>
  <li><a href="#deploy-1" id="toc-deploy-1" class="nav-link" data-scroll-target="#deploy-1">Deploy</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Creating shiny app-packages (<code>golem</code>)</h1>
<p class="subtitle lead">Building a <code>golem</code> app-package: whole-game</p>
  <div class="quarto-categories">
    <div class="quarto-category">shiny</div>
    <div class="quarto-category">golem</div>
    <div class="quarto-category">packages</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Frigaard </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 1, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>This post walks through building a shiny application using the <a href="https://thinkr-open.github.io/golem/"><code>golem</code> framework</a>. <code>golem</code> is a ’<em>an opinionated framework for building production-grade shiny applications’</em>–I’ll explore some of the opinions (and offer my opinion on adopting these opinions).</p>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I highly recommend this.</p>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I recommend adopting this practice (or something very similar).</p>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Useful</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>This practice is useful, but maybe not for all applications.</p>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Tip</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Additional notes or thoughts on an opinion or practice.</p>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"mjfrigaard/gap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For consistency, I’ll be using the application from the RStudio’s <a href="https://rstudio-education.github.io/shiny-course/">Building Web Applications with Shiny</a> course. These materials are a great resource if you’re new to shiny–even if you’re aren’t, it’s still worth checking out–plus it’s free!</p>
<p>The <a href="https://engineering-shiny.org/">golem text</a> is also a fantastic resource, but I found myself using the <a href="https://thinkr-open.github.io/golem/"><code>golem</code> website</a> as a great ‘quick reference.’ If you’re unfamiliar with R package development, I recommend bookmarking <a href="https://r-pkgs.org/">R packages</a>–this is a great resource you’ll return to often.</p>
<section id="outline" class="level2">
<h2 class="anchored" data-anchor-id="outline">Outline</h2>
<p>I’ve organized the app-package development process into three areas: <strong>Start</strong>, <strong>Build</strong>, and <strong>Use</strong>.</p>
<ul>
<li><p><strong>Start</strong> covers the required steps to launch your <code>golem</code> project in the RStudio IDE, common R package files and folders, and other setup considerations.</p></li>
<li><p><strong>Build</strong> covers the app-package development process, which includes writing and storing code, data, external resources (like CSS or JavaScript), testing, etc.</p></li>
<li><p><strong>Run</strong> shows how to launch a <code>golem</code> application locally (i.e., within the RStudio IDE), common workflow tips, and anything I found confusing while building the application.</p></li>
</ul>
<section id="dev-scripts" class="level3">
<h3 class="anchored" data-anchor-id="dev-scripts"><span style="font-size: 1.20em"><code>dev/</code></span> scripts</h3>
<p>New <code>golem</code> apps automatically open the <code>01_start.R</code> script from the <code>dev/</code> folder. This is the first of three .R scripts that serve as a ‘guided tour’ of the <code>golem</code> framework (<code>01_start.R</code>, <code>02_dev.R</code>, and <code>03_deploy.R</code>):</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="gap_dev_scripts.png" class="img-fluid figure-img" style="width:55.0%"></p>
<figcaption class="figure-caption">golem <code>dev/</code> scripts</figcaption>
</figure>
</div>
<p>The <code>run_dev.R</code> is also in the <code>dev/</code> folder, but it’s for running a development version of your app (more on this later).</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<strong>Tip</strong>: development scripts
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>If you’re familiar with R application development, you should recognize most of the items in the <code>dev/</code> scripts. I recommend going through these scripts even if you’re an experienced R package developer–you can think of these as a ‘shiny app-package development checklist.’</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="start" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="start">Start</h2>
<!-- ## [`gap`]{style="font-size: 1.55em"} -->
<p>To create a new <code>golem</code> app from the console, enter the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"golem"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(golem)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">create_golem</span>(<span class="at">path =</span> <span class="st">"gap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you’re creating a <code>golem</code> app using the <strong>New Project Wizard</strong>, the following defaults are available:</p>
<div id="fig-golem-setup" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="golem-setup.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption class="figure-caption">IDE wizard <code>golem</code> setup</figcaption>
</figure>
</div>
<figcaption class="figure-caption">Figure&nbsp;1: Creating a new <code>golem</code> shiny app</figcaption>
</figure>
</div>
<p>I recommend using <code>golem</code> comments (they’re helpful and don’t change how the application code runs). When the new project opens, the initial folder structure for your new <code>golem</code> application is below:</p>
<div class="cell">
<details open="">
<summary>show/hide golem folder structure</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">app-name/</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> DESCRIPTION</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> NAMESPACE</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> R</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app_config.R</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app_server.R</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app_ui.R</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   └── run_app.R</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> dev</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── 01_start.R</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── 02_dev.R</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── 03_deploy.R</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   └── run_dev.R</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> <span class="pp">[</span><span class="ss">app</span><span class="pp">-</span><span class="ss">name</span><span class="pp">]</span>.Rproj</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">├──</span> inst</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   ├── app</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   │   └── www</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   │       └── favicon.ico</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">│</span>   └── golem-config.yml</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="ex">└──</span> man</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>      <span class="ex">└──</span> run_app.Rd</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="ex">7</span> directories, 14 files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="begin-01_start.r" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="begin-01_start.r">Begin <span style="font-size: 1.20em"><code>01_start.R</code></span></h3>
<p>The <code>dev/01_start.R</code> file is covered in the first few sections of the <a href="https://engineering-shiny.org/golem.html"><code>golem</code> text</a>, but I prefer the <a href="https://thinkr-open.github.io/golem/articles/a_start.html">package website</a> as a reference because it walks through each <code>dev/</code> script (with links to the <code>golem</code> functions).</p>
<section id="fill-the-description" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="fill-the-description"><span style="font-size: 1.10em"><code>Fill</code> <code>the</code> <code>DESCRIPTION</code></span></h4>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem::fill_desc()</code>: <strong>highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>The <code>DESCRIPTION</code> file plays and important role in R packages (probably why it’s the first item in the <code>01_start.R</code> file).</p>
<blockquote class="blockquote">
<p>‘<em>all a project needs to be a package is a directory of <code>R/</code> files and a <code>DESCRIPTION</code> file.</em>’ - <a href="https://mastering-shiny.org/scaling-packaging.html#summary-18">Packages Chapter of Mastering Shiny</a></p>
</blockquote>
<p>The <code>golem::fill_desc()</code> arguments are a great way to guarantee your <code>DESCRIPTION</code> file is set up correctly.</p>
</div>
</div>
</div>
</div>
<p>There are three files in a new golem app-package–<code>NAMESPACE</code>, <code>DESCRIPTION</code>, and <code>[app name].Rproj</code>. <code>dev/01_start.R</code> starts by building the <code>DESCRIPTION</code> file with <a href="https://thinkr-open.github.io/golem/reference/fill_desc.html"><code>golem::fill_desc()</code></a></p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="gap_desc.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">golem <code>DESCRIPTION</code></figcaption>
</figure>
</div>
</div></div><p><code>fill_desc()</code> is from the <a href="https://r-lib.github.io/desc/"><code>desc</code> package</a>, and the sections are entered in a <code>key = "value"</code> format</p>
<ul>
<li><p>Example <code>DESCRIPTION</code> file contents:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">fill_desc</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">pkg_name =</span> <span class="st">"gap"</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pkg_title =</span> <span class="st">"An example goelm app"</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pkg_description =</span> <span class="st">"A working example of the golem package."</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">author_first_name =</span> <span class="st">"Martin"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">author_last_name =</span> <span class="st">"Frigaard"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">author_email =</span> <span class="st">"mjfrigaard@pm.me"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">repo_url =</span> <span class="cn">NULL</span> <span class="co"># The URL of the GitHub Repo (optional)</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>show/hide output from golem::fill_desc()</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_version</span><span class="kw">`</span> to 0.0.0.9000</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_name</span><span class="kw">`</span> to gap</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> DESCRIPTION file modified</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></li>
</ul>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What if I need to edit the <code>DESCRIPTION</code>?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>In <code>dev/02_dev.R</code>, <code>attachment::att_amend_desc()</code> will ‘<em>Amend <code>DESCRIPTION</code> with dependencies read from package code parsing</em>’. If <code>attachment</code> is not installed, use <code>install.package('attachment')</code></p>
</div>
</div>
</div>
</div>
</section>
<section id="set-golem-options" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="set-golem-options"><span style="font-size: 1.10rem"><code>Set</code> <code>{golem}</code> <code>options</code></span></h4>
<p>The <code>golem::set_golem_options()</code> wraps a collection of <code>golem</code>‘s ’opinionated’ application development and configuration options.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">set_golem_options</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>show/hide output from golem::set_golem_options()</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> Setting {golem} options in <span class="kw">`</span><span class="ex">golem-config.yml</span><span class="kw">`</span> ────────────────────────────────────────────────────────────────────</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_name</span><span class="kw">`</span> to gap</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_wd</span><span class="kw">`</span> to golem::pkg_path<span class="er">(</span><span class="kw">)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="ex">You</span> can change golem working directory with set_golem_wd<span class="er">(</span><span class="st">'path/to/wd'</span><span class="kw">)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">golem_version</span><span class="kw">`</span> to 0.0.0.9000</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting <span class="kw">`</span><span class="ex">app_prod</span><span class="kw">`</span> to FALSE</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> Setting {usethis} project as <span class="kw">`</span><span class="ex">golem_wd</span><span class="kw">`</span> ──────────────────────────────────────────────────────────────────────────</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/projects/gap'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>set_golem_options()</code> is a wrapper for a collection of <code>golem</code> option functions (I’ve included each function and a brief description of their behavior below):</p>
<div class="cell">
<details open="">
<summary>show/hide golem options</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">set_golem_options</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">golem_name =</span> golem<span class="sc">::</span><span class="fu">pkg_name</span>(), <span class="co"># name of the app-package in DESCRIPTION</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">golem_version =</span> golem<span class="sc">::</span><span class="fu">pkg_version</span>(), <span class="co"># version in DESCRIPTION</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">golem_wd =</span> golem<span class="sc">::</span><span class="fu">pkg_path</span>(), <span class="co"># package root when starting a golem</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">app_prod =</span> <span class="cn">FALSE</span>, <span class="co"># production mode?</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">talkative =</span> <span class="cn">TRUE</span>, <span class="co"># Should the messages be printed to the console?</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">config_file =</span> golem<span class="sc">::</span><span class="fu">get_current_config</span>(golem_wd) <span class="co"># golem-config.yml location</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="golem_config_yml.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">golem config file</figcaption>
</figure>
</div>
</div></div><p>The new config file is located in the <code>inst/</code> folder.</p>
<!--


    ::: {.cell}
    
    ```{.bash .cell-code}
    inst
    ├── app
    │   └── www
    │       └── favicon.ico
    └── golem-config.yml
    
    3 directories, 2 files
    ```
    :::

    
-->
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem::set_golem_options()</code>: <strong>Highly recommend</strong>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>To fully understand the <code>golem</code> framework, I recommended running this function. The functions called for each argument in <code>golem::set_golem_options()</code> provide some insight into how a <code>golem</code> app is structured (i.e., where the <code>name</code> and <code>version</code> information is stored, the location of the root directory, etc.)</p>
</div>
</div>
</div>
</div>
</section>
<section id="install-required-dev-dependencies" class="level4">
<h4 class="anchored" data-anchor-id="install-required-dev-dependencies"><span style="font-size: 1.10em"><code>Install</code> <code>required</code> <code>dev</code> <code>dependencies</code></span></h4>
<p>The <code>golem::install_dev_deps()</code> function makes sure the following packages are installed (I’ve grouped them into categories):</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<section id="development" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h5 class="anchored" data-anchor-id="development">Development</h5>
<ul>
<li><p><a href="https://devtools.r-lib.org/"><code>devtools</code></a> (loading, documenting, installing package)</p>
<ul>
<li><a href="https://pkgload.r-lib.org/"><code>pkgload</code></a> (i.e., <code>devtools::load_all()</code>)</li>
</ul></li>
<li><p><a href="https://usethis.r-lib.org/"><code>usethis</code></a> (create package files)</p></li>
<li><p><a href="https://roxygen2.r-lib.org/"><code>roxygen2</code></a> (document package functions and objects)</p></li>
<li><p><a href="https://pkgbuild.r-lib.org/"><code>pkgbuild</code></a> (create a <code>.tar.gz</code> file)</p></li>
</ul>
</section>
<section id="documentation-testing" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h5 class="anchored" data-anchor-id="documentation-testing">Documentation &amp; testing</h5>
<ul>
<li><p><a href="https://thinkr-open.github.io/attachment/"><code>attachment</code></a> (deal with package dependencies)</p></li>
<li><p><a href="https://desc.r-lib.org/"><code>desc</code></a> (Parse <code>DESCRIPTION</code> files)</p></li>
<li><p><a href="https://testthat.r-lib.org/"><code>testthat</code></a> (unit testing your code)</p></li>
</ul>
</section>
</div>
</div>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<section id="internals" class="level5 quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<h5 class="anchored" data-anchor-id="internals">Internals</h5>
<ul>
<li><p><a href="https://rstudio.github.io/rstudioapi/"><code>rstudioapi</code></a> (interacting with RStudio IDE)</p></li>
<li><p><a href="https://processx.r-lib.org/"><code>processx</code></a> (execute and control subprocesses from R)</p></li>
</ul>
</section>
<section id="files-paths" class="level5 quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<h5 class="anchored" data-anchor-id="files-paths">Files &amp; paths</h5>
<ul>
<li><p><a href="https://here.r-lib.org/"><code>here</code></a> (file/folder path management)</p></li>
<li><p><a href="https://fs.r-lib.org/"><code>fs</code></a> (file/folder path management)</p></li>
</ul>
</section>
<section id="deploy" class="level5 quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<h5 class="anchored" data-anchor-id="deploy">Deploy</h5>
<ul>
<li><p><a href="https://github.com/ThinkR-open/dockerfiler"><code>dockerfiler</code></a> (deploying apps with docker)</p></li>
<li><p><a href="https://rstudio.github.io/rsconnect/"><code>rsconnect</code></a> (deploy shiny apps with RSConnect)</p></li>
</ul>
</section>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">install_dev_deps</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Below is an example with <code>dockerfiler</code>:</p>
<div class="cell">
<details>
<summary>show/hide output from golem::install_dev_deps()</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> The package <span class="st">"dockerfiler"</span> is required.</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✖</span> Would you like to install it<span class="pp">?</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Yes</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> No</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Updated metadata database: 5.32 MB in 12 files.                         </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Updating metadata database ... done                                     </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                                                                            </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="ex">→</span> Will install 1 package.</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="ex">→</span> Will download 1 CRAN package <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span><span class="bu">.</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span> dockerfiler   0.2.1  ⬇ <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Getting 1 pkg <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Got dockerfiler 0.2.1 <span class="er">(</span><span class="ex">x86_64-apple-darwin17.0</span><span class="kw">)</span> <span class="kw">(</span><span class="ex">104.29</span> kB<span class="kw">)</span>             </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Downloaded 1 package <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span><span class="er">in</span> <span class="ex">1.1s</span>                                 </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Installed dockerfiler 0.2.1  <span class="er">(</span><span class="ex">54ms</span><span class="kw">)</span>                                    </span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> 1 pkg + 40 deps: kept 40, added 1, dld 1 <span class="er">(</span><span class="ex">104.29</span> kB<span class="kw">)</span> <span class="ex">[20.2s]</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem::install_dev_deps()</code>: highly recommned
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I recommend using <code>golem</code>’s options here–it’s efficient and let’s you know if a particular package isn’t installed:</p>
</div>
</div>
</div>
</div>
</section>
<section id="create-common-files" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="create-common-files"><span style="font-size: 1.10em"><code>Create</code> <code>Common</code> <code>Files</code></span></h4>
<p>The ‘Create Common Files’ section of <code>dev/01_start.R</code> contains many of the functions and files covered in the <a href="https://r-pkgs.org/whole-game.html">‘Whole Game’ section of R packages</a>:</p>
<ul>
<li><p><strong>LICENSE</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_mit_license</span>(<span class="st">"Golem User"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'MIT + file LICENSE'</span> to License</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'LICENSE'</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'LICENSE.md'</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^LICENSE\\.md$'</span> to <span class="st">'.Rbuildignore'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>

<!--  -->
<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="gap_license.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">golem <code>LICENSE</code> file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>README.Rmd</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_readme_rmd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'README.Rmd'</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^README\\.Rmd$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Update <span class="st">'README.Rmd'</span> to include installation instructions.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>The <strong>README.md</strong> is built with <code>devtools::build_readme()</code></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build_readme</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Installing gap in temporary library</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Building /projects/gap/README.Rmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="gap_readme.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">golem README.Rmd file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>CODE_OF_CONDUCT.md</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_code_of_conduct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'CODE_OF_CONDUCT.md'</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'^CODE_OF_CONDUCT\\.md$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> You may also want to describe the code of conduct in your README:</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">## Code of Conduct</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Please</span> note that the gap project is released with a [Contributor Code of</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Conduct]</span><span class="er">(</span><span class="ex">https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html</span><span class="kw">)</span><span class="bu">.</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="ex">By</span> contributing to this project, you agree to abide by its terms.</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">[Copied</span> to clipboard]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Paste of the code of conduct in the <strong>README.md</strong> is rebuild with <code>devtools::build_readme()</code></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build_readme</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Installing gap in temporary library</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Building /projects/gap/README.Rmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="gap_code_of_conduct.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">golem code of conduct file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>Lifecycle badge</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_lifecycle_badge</span>(<span class="st">"Experimental"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding Lifecycle: experimental badge to <span class="st">'README.Rmd'</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Re-knit <span class="st">'README.Rmd'</span> with <span class="kw">`</span><span class="fu">devtools::build_readme()</span><span class="kw">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Rebuild the <strong>README.md</strong> with <code>devtools::build_readme()</code></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_lifecycle_badge</span>(<span class="st">"Experimental"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Installing gap in temporary library</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Building /projects/gap/README.Rmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="lifecycle_exp.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption"><code>golem</code> lifecycle badge</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>NEWS.md</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_news_md</span>(<span class="at">open =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'NEWS.md'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="gap_news.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">golem <code>NEWS.md</code> file</figcaption>
</figure>
</div>
</div></div><ul>
<li><p><strong>Git</strong>: <code>usethis::use_git()</code> will ask if you’d like to commit the files in your golem app to a repo of the same name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_git</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/projects/gap'</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Initialising Git repo</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'.Rproj.user'</span>, <span class="st">'.Rhistory'</span>, <span class="st">'.Rdata'</span>, <span class="st">'.httr-oauth'</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'.DS_Store'</span><span class="ex">,</span> <span class="st">'.quarto'</span> to <span class="st">'.gitignore'</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="ex">There</span> are 16 uncommitted files:</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'.gitignore'</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'.here'</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'.Rbuildignore'</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'CODE_OF_CONDUCT.md'</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'DESCRIPTION'</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'dev/'</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'gap.Rproj'</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'inst/'</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'LICENSE'</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="st">'LICENSE.md'</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> ...</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="ex">Is</span> it ok to commit them<span class="pp">?</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Definitely</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> Negative</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="ex">3:</span> Not now</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>To initialize the Git pane, you’ll need to restart RStudio (in the next dialogue)</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding files</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Making a commit with message <span class="st">'Initial commit'</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> A restart of RStudio is required to activate the Git pane</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Restart</span> now<span class="pp">?</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Absolutely</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> Negative</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="ex">3:</span> No</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common files: recommend
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Each of these files are important for an R package, so having them consolidated in <code>01_start.R</code> makes it easier to get up and running quickly. However, if you’d like to edit their contents before moving onto the next step (or you’d like information on a particular function/file), I recommend consulting <a href="https://r-pkgs.org/whole-game.html">R packages</a> for this section</p>
</div>
</div>
</div>
</div>
</section>
<section id="init-testing-infrastructure" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="init-testing-infrastructure"><span style="font-size: 1.10em"><code>Init</code> <code>Testing</code> <code>Infrastructure</code></span></h4>
<p><code>golem::use_recommended_tests()</code> with set up the <code>testthat</code> architecture for unit tests.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_recommended_tests</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="gap_tests.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">golem test files</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/projects/gap'</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'testthat'</span> to Suggests field in DESCRIPTION</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'3'</span> to Config/testthat/edition</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Creating <span class="st">'tests/testthat/'</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'tests/testthat.R'</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Call <span class="kw">`</span><span class="fu">use_test()</span><span class="kw">`</span> to initialize a basic test file and open it for editing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It also adds a few words to the <code>WORDLIST</code> file in the <code>inst</code> folder:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'spelling'</span> to Suggests field in DESCRIPTION</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'en-US'</span> to Language</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> following words will be added to the wordlist:</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a> <span class="ex">-</span> Lifecycle</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a> <span class="ex">-</span> goelm</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a> <span class="ex">-</span> golem</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Are</span> you sure you want to update the wordlist<span class="pp">?</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="ex">1:</span> Yes</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="ex">2:</span> No</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Selection:</span> 1</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="ex">Added</span> 3 and removed 0 words in /projects/gap/inst/WORDLIST</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Updated</span> /projects/gap/tests/spelling.R</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Run <span class="kw">`</span><span class="fu">devtools::check()</span><span class="kw">`</span> to trigger spell check</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Tests added</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>golem::use_recommended_tests()</code> also provides some examples for testing the UI, server, and other <code>golem</code> functions:</p>
<div class="cell">
<details>
<summary>show/hide unit tests in test-golem-recommended.R</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">"app ui"</span>, {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  ui <span class="ot">&lt;-</span> <span class="fu">app_ui</span>()</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  golem<span class="sc">::</span><span class="fu">expect_shinytaglist</span>(ui)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check that formals have not been removed</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  fmls <span class="ot">&lt;-</span> <span class="fu">formals</span>(app_ui)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"request"</span>)) {</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(i <span class="sc">%in%</span> <span class="fu">names</span>(fmls))</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">"app server"</span>, {</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  server <span class="ot">&lt;-</span> app_server</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect_type</span>(server, <span class="st">"closure"</span>)</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check that formals have not been removed</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  fmls <span class="ot">&lt;-</span> <span class="fu">formals</span>(app_server)</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"input"</span>, <span class="st">"output"</span>, <span class="st">"session"</span>)) {</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(i <span class="sc">%in%</span> <span class="fu">names</span>(fmls))</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"app_sys works"</span>,</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">app_sys</span>(<span class="st">"golem-config.yml"</span>) <span class="sc">!=</span> <span class="st">""</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"golem-config works"</span>,</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>    config_file <span class="ot">&lt;-</span> <span class="fu">app_sys</span>(<span class="st">"golem-config.yml"</span>)</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">skip_if</span>(config_file <span class="sc">==</span> <span class="st">""</span>)</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_true</span>(</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">get_golem_config</span>(</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">"app_prod"</span>,</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">config =</span> <span class="st">"production"</span>,</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">file =</span> config_file</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect_false</span>(</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">get_golem_config</span>(</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>        <span class="st">"app_prod"</span>,</span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">config =</span> <span class="st">"dev"</span>,</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">file =</span> config_file</span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure this test to fit your need.</span></span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a><span class="co"># testServer() function makes it possible to test code in server functions and modules, without needing to run the full Shiny application</span></span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a><span class="fu">testServer</span>(app_server, {</span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set and test an input</span></span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>  session<span class="sc">$</span><span class="fu">setInputs</span>(<span class="at">x =</span> <span class="dv">2</span>)</span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect_equal</span>(input<span class="sc">$</span>x, <span class="dv">2</span>)</span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example of tests you can do on the server:</span></span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># - Checking reactiveValues</span></span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># expect_equal(r$lg, 'EN')</span></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># - Checking output</span></span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># expect_equal(output$txt, "Text")</span></span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure this test to fit your need</span></span>
<span id="cb33-69"><a href="#cb33-69" aria-hidden="true" tabindex="-1"></a><span class="fu">test_that</span>(</span>
<span id="cb33-70"><a href="#cb33-70" aria-hidden="true" tabindex="-1"></a>  <span class="st">"app launches"</span>,</span>
<span id="cb33-71"><a href="#cb33-71" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb33-72"><a href="#cb33-72" aria-hidden="true" tabindex="-1"></a>    golem<span class="sc">::</span><span class="fu">expect_running</span>(<span class="at">sleep =</span> <span class="dv">5</span>)</span>
<span id="cb33-73"><a href="#cb33-73" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-74"><a href="#cb33-74" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>These tests pass right out of the box, and they give a little ‘sneak preview’ of how the <code>golem</code> framework works.</p>
<div class="cell">
<details open="">
<summary>show/hide results from unit tests in test-golem-recommended.R</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">==</span><span class="op">&gt;</span> Testing R file using <span class="st">'testthat'</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading gap</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> FAIL 0 <span class="er">|</span> <span class="er">WARN</span> <span class="ex">0</span> <span class="kw">|</span> <span class="ex">SKIP</span> 0 <span class="kw">|</span> <span class="ex">PASS</span> 9 ]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Loading</span> required package: shiny</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> FAIL 0 <span class="er">|</span> <span class="er">WARN</span> <span class="ex">0</span> <span class="kw">|</span> <span class="ex">SKIP</span> 1 <span class="kw">|</span> <span class="ex">PASS</span> 10 ]</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="ex">──</span> Skipped tests <span class="er">(</span><span class="ex">1</span><span class="kw">)</span> <span class="ex">─────────</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> interactive<span class="er">(</span><span class="kw">)</span> <span class="ex">is</span> not TRUE</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">(</span><span class="ex">1</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">test-golem-recommended.R:72:5</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="ex">Test</span> complete</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> recommended tests: highly recommend
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I love this feature of golem apps! in a single function I have the folders required for unit testing, words added to the WORDLIST (which I almost never remember to do), and an example test with shiny’s <a href="https://shiny.posit.co/r/reference/shiny/1.7.0/testserver"><code>testServer()</code></a> function.</p>
</div>
</div>
</div>
</div>
</section>
<section id="favicon" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="favicon"><span style="font-size: 1.10em"><code>Favicon</code></span></h4>
<p>A <a href="https://en.wikipedia.org/wiki/Favicon">favicon</a> is a the little image that shows up on your browser tab or address bar. <code>golem</code> has a default favicon in the <code>inst/app/</code> folder:</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="favicon.ico" class="img-fluid figure-img" style="width:10.0%"></p>
<figcaption class="figure-caption">golem favicon file</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">inst/</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">└──</span> app</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>       <span class="ex">└──</span> www</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>            <span class="ex">└──</span> favicon.ico</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span> directories, 1 file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>inst/</code> folder serves a specific purpose in golem apps (and R packages), which I’ll cover more below. For our purpose, the <code>golem::use_favicon()</code> function can use the existing image:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_favicon</span>(<span class="at">path =</span> <span class="st">"inst/app/www/favicon.ico"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The output introduces another common <code>golem</code> function: <code>golem_add_external_resources()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> favicon.ico created at </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/projects/gap/inst/app/www/favicon.ico</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Favicon</span> is automatically linked in app_ui via <span class="kw">`</span><span class="fu">golem_add_external_resources()</span><span class="kw">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function is used to add external resources to your application (and will come up often during development).</p>
</section>
<section id="add-helper-functions" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="add-helper-functions"><span style="font-size: 1.10em"><code>Add helper functions</code></span></h4>
<p>Most applications will have two types of code–<code>shiny</code> functions for running your application (app functions), and functions that do everything else (or utility functions). The <code>golem</code> further distinguished utility functions into two types: <em>“small functions that are reused throughout the app”</em> (with a <code>utils_</code> prefix), and <em>“larger functions, which are more central to the application”</em> (with a <code>fct_</code> prefix).</p>
<p>These descriptions <a href="https://engineering-shiny.org/build-app-golem.html?functions#submodules-and-utility-functions">from the text</a> are helpful for distinguishing between the two:</p>
<blockquote class="blockquote">
<p><strong><code>utils_</code> functions:</strong> “<em>…the <code>hexmake</code> app has two of these files, <code>R/utils_ui.R</code> and <code>R/utils_server.R</code>, in which you will find small functions that are reused throughout the app.</em>”</p>
</blockquote>
<blockquote class="blockquote">
<p><strong><code>fct_</code> functions:</strong> “<em>…in <code>hexmake</code>, you will find <code>R/fct_mongo.R</code>, which is used to handle all the things related to connecting and interacting with the Mongodb database.</em>”</p>
</blockquote>
<section id="use_utils_ui" class="level5 page-columns page-full">
<h5 class="anchored" data-anchor-id="use_utils_ui"><span style="font-size: 1.10em"><code>use_utils_ui()</code></span></h5>
<p>The <code>golem::use_utils_ui()</code> function will add a collection of utility functions for the UI. Including <code>with_test = TRUE</code> will add a test for these functions.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="use_utils_ui.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption class="figure-caption">golem UI utility functions &amp; tests</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_utils_ui</span>(<span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/R/golem_utils_ui.R</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Utils UI added</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/tests/testthat/test-golem_utils_ui.R</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Tests on utils_server added</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="use_utils_server" class="level5 page-columns page-full">
<h5 class="anchored" data-anchor-id="use_utils_server"><span style="font-size: 1.10em"><code>use_utils_server()</code></span></h5>
<p><code>golem</code> also includes a set of functions for the application server (or server modules), <code>golem::use_utils_server()</code>. The <code>with_test = TRUE</code> will also add a test to the <code>tests/testthat/</code> folder:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">use_utils_server</span>(<span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/R/golem_utils_server.R</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Utils server added</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> File created at /projects/gap/tests/testthat/test-golem_utils_server.R</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Tests on utils_server added</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="use_utils_server.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption class="figure-caption">golem server utility functions &amp; tests</figcaption>
</figure>
</div>
</div></div><div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> utility functions: recommend
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>I consider these functions optional, but the examples in each file have a broad enough application that you’ll probably discover something helpful for your <code>golem</code> application. The <code>with_test</code> argument also provides more examples of unit tests for your application functions, so you’re likely to find something useful!</p>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="end-01_start.r" class="level3">
<h3 class="anchored" data-anchor-id="end-01_start.r">End <span style="font-size: 1.10em"><code>01_start.R</code></span></h3>
<p>This is the final function in the <code>dev/01_start.R</code> file. In the next <code>golem</code> dev script (<code>dev/02_dev.R</code>), I’ll cover development of your <code>golem</code> application.</p>
</section>
</section>
<section id="build" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="build">Build</h2>
<p>The <code>dev/02_dev.R</code> file is appropriately titled, ‘<code>Engineering</code>’, and unlike the functions in the first script, these functions will be used repeatedly for creating files in the <code>R/</code> and <code>inst/</code> folders.</p>
<section id="begin-02_dev.r" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="begin-02_dev.r">Begin <span style="font-size: 1.10em"><code>02_dev.R</code></span></h3>
<section id="app-files" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="app-files">App files</h4>
<p>Let’s start by examining the <a href="https://engineering-shiny.org/golem.html#r">contents of the <code>R/</code> folder</a> in our new <code>golem</code> application:</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="app_files.png" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption class="figure-caption">golem application files</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">R/</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> app_config.R</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> app_server.R</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> app_ui.R</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="ex">└──</span> run_app.R</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span> directory, 4 files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>golem</code> applications structure shiny apps into three files: <code>R/app_ui.R</code>, <code>R/app_server.R</code>, and <code>R/run_app.R</code>.</p>
<ul>
<li><p>The <code>R/app_ui.R</code> and <code>R/app_server.R</code> scripts are <code>golem</code>’s version of <code>ui.R</code> and <code>server.R</code></p></li>
<li><p><code>R/run_app.R</code> is a standalone app function, and</p></li>
<li><p><code>R/app_config.R</code> is used to set/get <code>golem</code> configuration settings (which we will cover more below).</p></li>
</ul>
<section id="app_ui.r" class="level5">
<h5 class="anchored" data-anchor-id="app_ui.r"><span style="font-size: 1.10em"><code>app_ui.R</code></span></h5>
<p><code>app_ui.R</code> wraps the UI functions in <code>shiny::tagList()</code> (you’ll see this function in shiny UI module functions, too).</p>
<div class="cell">
<details open="">
<summary>show/hide app_ui()</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>app_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(request) {</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tagList</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Leave this function for adding external resources</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">golem_add_external_resources</span>(),</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your application UI logic</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fluidPage</span>(</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">h1</span>(<span class="st">"gap"</span>)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>app_ui()</code> also contains a call to <code>golem_add_external_resources()</code>, which we used above to add the favicon image.</p>
<div class="cell">
<details open="">
<summary>show/hide golem_add_external_resources()</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>golem_add_external_resources <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_resource_path</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"www"</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">app_sys</span>(<span class="st">"app/www"</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">favicon</span>(),</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bundle_resources</span>(</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">path =</span> <span class="fu">app_sys</span>(<span class="st">"app/www"</span>),</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">app_title =</span> <span class="st">"gap"</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add here other external resources</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># for example, you can add shinyalert::useShinyalert()</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="app_server.r" class="level5">
<h5 class="anchored" data-anchor-id="app_server.r"><span style="font-size: 1.30em"><code>app_server.R</code></span></h5>
<p>The contents of <code>app_server.R</code> file looks similar to a standard shiny server function:</p>
<div class="cell">
<details open="">
<summary>show/hide app_server()</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>app_server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Your application server logic</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="app_config.r" class="level5">
<h5 class="anchored" data-anchor-id="app_config.r"><span style="font-size: 1.30em"><code>app_config.R</code></span></h5>
<p>The <code>app_config.R</code> file contains the “<em>internal mechanics for <code>golem</code>, notably for referring to values in the <code>inst/</code> folder, and to get values from the <code>config</code> file in the <code>inst/</code> folder</em>”. Two functions drive the internal mechanics of your <code>golem</code> app: <code>app_sys()</code> and <code>get_golem_config()</code></p>
<ul>
<li><code>app_sys()</code> is a wrapper around the <code>system.file()</code> function, and it’s used to <em>“quickly refer to the files inside the <code>inst/</code> folder”</em></li>
</ul>
<div class="cell">
<details open="">
<summary>show/hide app_sys()</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>app_sys <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">system.file</span>(..., <span class="at">package =</span> <span class="st">"gap"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><code>get_golem_config()</code> is where you’ll set <code>golem</code> configuration options (covered <a href="https://engineering-shiny.org/golem.html#manipulating-golem-config.yml">here in the text</a>).</li>
</ul>
<div class="cell">
<details open="">
<summary>show/hide get_golem_config()</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>get_golem_config <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  value,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">config =</span> <span class="fu">Sys.getenv</span>(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"GOLEM_CONFIG_ACTIVE"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Sys.getenv</span>(</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"R_CONFIG_ACTIVE"</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"default"</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">use_parent =</span> <span class="cn">TRUE</span>,</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Modify this if your config file is somewhere else</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="fu">app_sys</span>(<span class="st">"golem-config.yml"</span>)</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  config<span class="sc">::</span><span class="fu">get</span>(</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> value,</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">config =</span> config,</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">file =</span> file,</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">use_parent =</span> use_parent</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>get_golem_config()</code> reads the <code>inst/golem-config.yml</code> configuration file:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">default:</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">golem_name:</span> gap</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">golem_version:</span> 0.0.0.9000</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">app_prod:</span> no</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="ex">production:</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">app_prod:</span> yes</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="ex">dev:</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">golem_wd:</span> !expr here::here<span class="er">(</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://engineering-shiny.org/golem.html#manipulating-golem-config.yml"><code>golem-config.yml</code></a> gives me access to the app version, name, and (development) working directory. This file is designed to add “<em>production-only elements</em>” and be “<em>shareable across <code>golem</code> projects</em>”</p>
</section>
<section id="run_app.r" class="level5">
<h5 class="anchored" data-anchor-id="run_app.r"><span style="font-size: 1.30em"><code>run_app.R</code></span></h5>
<p><code>run_app.R</code> is the exported function I’ll use to run my <code>golem</code> app after loading/documenting/installing the package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">load_all</span>(<span class="st">"."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading gap</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">document</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Updating gap documentation</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading gap</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Restarting</span> R session...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gap)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>gap<span class="sc">::</span><span class="fu">run_app</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> app functions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>The great thing about <code>golem</code> applications is that despite having a somewhat overwhelming amount of code and options, most of these can be ignored until you need to use them. <code>R/app_config.R</code> is a great example of this. The <code>get_golem_config()</code> function is a powerful tool for deploying apps in production, but you can get started developing your application without diving into the details.</p>
</div>
</div>
</div>
</div>
<!--
 

### [`golem`]{style="font-size: 1.30em"} helper functions

### [`golem`]{style="font-size: 1.30em"} external resources

### [`golem`]{style="font-size: 1.30em"} internal datasets

### [`golem`]{style="font-size: 1.30em"} tests 

### [`golem`]{style="font-size: 1.30em"} documentation 

### [`golem`]{style="font-size: 1.30em"} code coverage

-->
</section>
</section>
<section id="dependencies" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="dependencies"><span style="font-size: 1.10em"><code>Dependencies</code></span></h4>
<p>Dependency management is a necessary evil of package development. <code>shiny</code> has a large ecosystem of user-written add-on packages. To use the code from add-on packages in our application, we need a way to keep track of which function belongs to which package.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dependencies.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption class="figure-caption">golem app dependencies</figcaption>
</figure>
</div>
</div></div><p><strong>The <code>DESCRIPTION</code> file manages package-level dependencies.</strong> The <code>Imports</code> field in the <code>DESCRIPTION</code> file specifies packages that my package uses, so the functions from these packages will be available for my package, but not for users (unless they use the <code>::</code> operator or load the package themselves).</p>
<p><strong>The <code>NAMESPACE</code> file manages function-level access.</strong> The <code>NAMESPACE</code> file manages the functions that are <em>exported</em> from my package (i.e., functions available to users who install my package), and the functions my package <em>imports</em> from other packages.</p>
<p>The <code>golem</code> text describes the difference between these files in the following way,</p>
<blockquote class="blockquote">
<p>“<em>The <code>DESCRIPTION</code> file dictates which packages have to be installed <strong>when your application is installed</strong></em>”</p>
<p>“<em>The <code>NAMESPACE</code> file describes how your app interacts with the R session at run time, i.e.&nbsp;<strong>when your application is launched</strong></em>”</p>
</blockquote>
<p>The <a href="https://thinkr-open.github.io/attachment/"><code>attachment</code> package</a> makes it easier to manage the dependencies in your <code>golem</code> application. It does this by looking through the files in your package to make sure everything is properly documented in the <code>NAMESPACE</code> and <code>DESCRIPTION</code> file (note that <a href="https://r-pkgs.org/dependencies-in-practice.html#confusion-about-imports">these two files are not equivalent or connected</a>).</p>
<p>The <code>att_amend_desc()</code> function removes a lot of the tedium involved in dependency management:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>attachment<span class="sc">::</span><span class="fu">att_amend_desc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function adds the appropriate parameters to <code>golem-config.yml</code> and sets up function documentation in the <code>DESCRIPTION</code> file</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Saving</span> attachment parameters to yaml config file</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Updating</span> <span class="pp">[</span><span class="ss">app</span><span class="pp">-</span><span class="ss">name</span><span class="pp">]</span> documentation</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Setting</span> <span class="kw">`</span><span class="ex">RoxygenNote</span><span class="kw">`</span> to <span class="st">"7.2.3"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It loads the contents of our package (i.e.&nbsp;<code>devtools::load_all()</code>) and writes the <code>NAMESPACE</code> file</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ℹ</span> Loading <span class="pp">[</span><span class="ss">app</span><span class="pp">-</span><span class="ss">name</span><span class="pp">]</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> NAMESPACE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It also writes the help files in the <code>man/</code> folder.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Writing</span> run_app.Rd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> dependencies: highly recommend
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Managing the dependencies in your app is an essential part of getting your application to deploy in a production environment, and this is a very helpful addition to your package development workflow (whether you’re building an app package or standard R package).</p>
</div>
</div>
</div>
</div>
</section>
<section id="add-modules" class="level4">
<h4 class="anchored" data-anchor-id="add-modules"><span style="font-size: 1.10em"><code>Add modules</code></span></h4>
<p><code>golem</code> has functions for quickly creating modules and utility/helper functions in the <code>R/</code> folder.</p>
<section id="add_module" class="level5">
<h5 class="anchored" data-anchor-id="add_module"><span style="font-size: 1.10em"><code>add_module()</code></span></h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_module</span>(<span class="at">name =</span> <span class="st">"name_of_module1"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>) </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_module</span>(<span class="at">name =</span> <span class="st">"name_of_module2"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="add-helper-functions-1" class="level4">
<h4 class="anchored" data-anchor-id="add-helper-functions-1"><span style="font-size: 1.10em"><code>Add helper functions</code></span></h4>
<p>golem apps differentiates two types of helper functions: <code>uils_</code> and <code>fct_</code>.</p>
<section id="add_utils" class="level5">
<h5 class="anchored" data-anchor-id="add_utils"><span style="font-size: 1.10em"><code>add_utils()</code></span></h5>
<blockquote class="blockquote">
<p><strong><code>uils_</code> functions:</strong> “<em>small functions that might be used several times in the application</em>” … “<em>more ‘topic centered’, in the sense that they gather functions that relate to a specific feature of the application(+</em>”</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_utils</span>(<span class="st">"helpers"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="add_fct" class="level5">
<h5 class="anchored" data-anchor-id="add_fct"><span style="font-size: 1.10em"><code>add_fct()</code></span></h5>
<blockquote class="blockquote">
<p><strong><code>fct_</code> functions:</strong> “<em>larger functions that are more central to the application</em>” … “<em>more used as a place to put miscellaneous functions</em>”</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_fct</span>(<span class="st">"helpers"</span>, <span class="at">with_test =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>with_test = TRUE</code> ensures these functions will also create test files in <code>tests/</code></p>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> modules and helper functions: highly recommend
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>These functions are incredibly helpful for a variety of reasons: 1) they simplify the naming convention by automatically creating prefixes for modules (<code>mod_[name]_ui</code>/<code>mod_[name]_server</code>) and helper functions (<code>utils_</code>/<code>fct_</code>), 2) the <code>with_test</code> argument makes it easy to create an accompanying test file, which ensures you have tests for each function/module (and promotes test-driven development!).</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="external-resources" class="level4">
<h4 class="anchored" data-anchor-id="external-resources"><span style="font-size: 1.10em"><code>External resources</code></span></h4>
<p><code>dev/02_dev.R</code> includes <code>golem</code> wrappers for including CSS, JavaScript, and SASS files to the <code>inst/app/www/</code> folder:</p>
<section id="javascript-files" class="level5">
<h5 class="anchored" data-anchor-id="javascript-files">JavaScript files</h5>
<p>You can add JavaScript to your application using the <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_js_file("script")</code></a> and <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_js_handler("handlers")</code></a> functions.</p>
<p>The golem text has an entire chapter dedicated to JavaScript which is worth reading (and I’ll demonstrate an example with these functions below).</p>
</section>
<section id="app-styling" class="level5">
<h5 class="anchored" data-anchor-id="app-styling">App styling</h5>
<p>You can add CSS or SASS styling to your application using the <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_css_file("custom")</code></a> and <a href="https://thinkr-open.github.io/golem/reference/add_files.html"><code>golem::add_sass_file("custom")</code></a> functions, too.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>golem</code> external resources: recommend
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>It’s unlikely a production-grade shiny application only includes R code, and figuring out how to add other code files to your application can get complicated quickly. These functions are incredibly helpful (and they <a href="https://thinkr-open.github.io/golem/articles/b_dev.html#add-external-files">work outside of a <code>golem</code> applications!</a>).</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="add-internal-datasets" class="level4">
<h4 class="anchored" data-anchor-id="add-internal-datasets"><span style="font-size: 1.10em"><code>Add internal datasets</code></span></h4>
<p>If you application uses data, you can add it to your application with the <code>usethis</code> functions (<code>use_data_raw()</code> or <code>use_data()</code>). I recommend reading the <a href="https://r-pkgs.org/data.html">data section</a> of R packages (and <a href="https://r-pkgs.org/misc.html#sec-misc-inst">this section</a> on adding data to <code>inst/extdata</code>).</p>
<section id="use_data_raw" class="level5">
<h5 class="anchored" data-anchor-id="use_data_raw"><span style="font-size: 1.10em"><code>use_data_raw()</code></span></h5>
<p>The <code>data-raw/</code> folder is for <em>‘data-creating script’</em> that was used to create the version of the data in your app-package. Newly created <code>.R</code> scripts in <code>use_data_raw()</code> will have a call to <code>use_data()</code>.</p>
</section>
<section id="use_data" class="level5">
<h5 class="anchored" data-anchor-id="use_data"><span style="font-size: 1.10em"><code>use_data()</code></span></h5>
<p>The <code>data/</code> folder stores the data files created from the scripts in <code>data-raw/</code> (and any other data you need in your app-package).</p>
<blockquote class="blockquote">
<p>“<em>store R objects and make them available to the user…in <code>data/</code></em>”</p>
</blockquote>
</section>
<section id="instextdata" class="level5">
<h5 class="anchored" data-anchor-id="instextdata"><span style="font-size: 1.10em"><code>inst/extdata</code></span></h5>
<p>Any other data you’d like to make available to users of your package should be stored in <code>inst/extdata/</code></p>
<blockquote class="blockquote">
<p>“<em>store data in some raw, non-R-specific form and make it available to the user…in <code>inst/extdata/</code></em>”</p>
</blockquote>
</section>
</section>
<section id="tests" class="level4">
<h4 class="anchored" data-anchor-id="tests"><span style="font-size: 1.10em"><code>Tests</code></span></h4>
<p>The <code>tests/</code> folder was created in <code>dev/01_start.R</code> with <a href="https://thinkr-open.github.io/golem/reference/use_recommended.html"><code>golem::use_recommended_tests()</code></a>, which is a wrapper around <code>usethis::use_testthat()</code></p>
<p>In <code>dev/02_dev.R</code>, the <a href="https://thinkr-open.github.io/golem/reference/add_module.html"><code>golem::add_module()</code></a> and <a href="https://thinkr-open.github.io/golem/reference/utils_files.html"><code>golem::add_utils()</code>/<code>golem::add_fct()</code></a> functions also include a <code>with_test = TRUE</code> argument, which creates a test file in the <code>tests/</code> folder.</p>
</section>
<section id="documentation" class="level4">
<h4 class="anchored" data-anchor-id="documentation"><span style="font-size: 1.10em"><code>Documentation</code></span></h4>
<p>R package vignettes contain high-level, long-form documentation for your package. These R Markdown documents combine narrative text and code that describe how the ‘parts’ (functions, data, etc.) of the package behave. In app-packages, vignettes might included the following information:</p>
</section>
</section>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<section id="section" class="level3 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h3 class="anchored" data-anchor-id="section"></h3>
<ol type="1">
<li><p>Introduction to the package</p></li>
<li><p>Installation guide</p></li>
<li><p>Usage examples</p></li>
<li><p>Description of the application and modules</p></li>
<li><p>Application workflow</p></li>
<li><p>Data preparation</p></li>
</ol>
</section>
<section id="section-1" class="level3 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h3 class="anchored" data-anchor-id="section-1"></h3>
<ol start="7" type="1">
<li><p>Troubleshooting</p></li>
<li><p>FAQs</p></li>
<li><p>Advanced usage</p></li>
<li><p>Details on functions and datasets</p></li>
<li><p>References and Contact information</p></li>
</ol>
</section>
</div>
</div>
<p>To create a new vignette in your package, run:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_vignette</span>(<span class="st">"gap"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Setting active project to <span class="st">'/Users/mjfrigaard/projects/gap'</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'knitr'</span> to Suggests field in DESCRIPTION</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'rmarkdown'</span> to Suggests field in DESCRIPTION</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'knitr'</span> to VignetteBuilder</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'inst/doc'</span> to <span class="st">'.gitignore'</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Creating <span class="st">'vignettes/'</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Adding <span class="st">'*.html'</span>, <span class="st">'*.R'</span> to <span class="st">'vignettes/.gitignore'</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="ex">✔</span> Writing <span class="st">'vignettes/gap.Rmd'</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="ex">•</span> Modify <span class="st">'vignettes/gap.Rmd'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The vignette file opens with the title matching the argument passed to <code>use_vignette()</code>. To build the vignettes in your package, run:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build_vignettes</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="code-coverage" class="level4">
<h4 class="anchored" data-anchor-id="code-coverage"><span style="font-size: 1.10em"><code>Code Coverage</code></span></h4>
<p>Test code coverage measures the extent to which the test cases cover the possible execution paths in the package codebase–its a way to ensure that the tests are robust enough to verify that the code behaves as expected.</p>
<p>There are two functions/methods used to calculate code coverage in your application: <code>usethis::use_coverage()</code> and <code>covrpage::covrpage()</code>.</p>
<section id="usethisuse_coverage" class="level5">
<h5 class="anchored" data-anchor-id="usethisuse_coverage"><span style="font-size: 1.10em"><code>usethis::use_coverage()</code></span></h5>
<p><code>use_coverage()</code> is part of the <code>usethis</code> package and can be run interactively during development:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_coverage</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb65"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>✔ Setting active project to '/Users/mjfrigaard/projects/gap'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="covrpagecovrpage" class="level5">
<h5 class="anchored" data-anchor-id="covrpagecovrpage"><span style="font-size: 1.10em"><code>covrpage::covrpage()</code></span></h5>
<p>Install <code>covrpage</code> using the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">'yonicd/covrpage'</span>)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(covrpage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To use <code>covrpage</code>, run the following</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>covrpage<span class="sc">::</span><span class="fu">covrpage</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This sets up the <code>README</code> in the <code>tests/</code> folder.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>tests/</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>├── README.md &lt;- covrpage README!</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>├── spelling.R</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>├── testthat</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>│   ├── test-golem-recommended.R</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>│   ├── test-golem_utils_server.R</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>│   └── test-golem_utils_ui.R</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>└── testthat.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The test coverage vignette is created with <code>use_covrpage_vignette()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>covrpage<span class="sc">::</span><span class="fu">use_covrpage_vignette</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb70"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>copying tests_and_coverage.Rmd into ./vignettes</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>adding inst/doc to .gitignore</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>adding knitr,rmarkdown to Suggests field in ./DESCRIPTION</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>adding VignetteBuilder: knitr to ./DESCRIPTION</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="ci" class="level4">
<h4 class="anchored" data-anchor-id="ci"><span style="font-size: 1.10em"><code>CI</code></span></h4>
<p>Continuous integration can be handled with one of the GitHub Actions functions (make sure you’re using Git). See the <a href="https://usethis.r-lib.org/reference/use_github_action.html"><code>usethis</code> website</a> for more information on using GitHub Actions.</p>
<p>If you’re using another CI management system, the following options are available.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<section id="github-actions-ci" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h5 class="anchored" data-anchor-id="github-actions-ci">Github Actions CI</h5>
<ul>
<li><p>Set up GitHub actions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># GitHub Actions</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chose one of the three</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_check_release</span>()</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_check_standard</span>()</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_check_full</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add action for PR</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_github_action_pr_commands</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
</section>
<section id="other-ci-options" class="level5 quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h5 class="anchored" data-anchor-id="other-ci-options">Other CI Options</h5>
<ul>
<li><p>Travis CI</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_travis</span>()</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_travis_badge</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>AppVeyor</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_appveyor</span>()</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_appveyor_badge</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Circle CI</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_circleci</span>()</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_circleci_badge</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Jenkins</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_jenkins</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>GitLab CI</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_gitlab_ci</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ul>
</section>
</div>
</div>
</section>
<section id="end-02_dev.r" class="level3">
<h3 class="anchored" data-anchor-id="end-02_dev.r">End <span style="font-size: 1.10em"><code>02_dev.R</code></span></h3>
</section>
</section>
<section id="use" class="level2">
<h2 class="anchored" data-anchor-id="use">Use</h2>
<section id="writing-code" class="level3">
<h3 class="anchored" data-anchor-id="writing-code">Writing code</h3>
<p>New modules and utility functions can be created with <a href="https://thinkr-open.github.io/golem/reference/add_module.html"><code>golem::add_module()</code></a> or <a href="https://thinkr-open.github.io/golem/reference/file_creation.html"><code>golem::add_utils()</code>/<code>golem::add_fct()</code></a></p>
<ul>
<li><p>These functions are added to the <code>R/</code> folder and include <a href="https://style.tidyverse.org/documentation.html#internal-functions"><code>@noRd</code></a> by default (which must be removed create the <code>.Rd</code> files in the <code>man/</code> folder)</p>
<div style="font-size: 0.80em;">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># UI module template -------------------</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co">#' test UI Function</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' @description A shiny Module.</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param id,input,output,session Internal parameters for {shiny}.</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @noRd</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny NS tagList</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="co"># server module template ---------------</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' test Server Functions</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a><span class="co">#' @noRd</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></li>
<li><p>UI module functions end with a <code>_ui</code> suffix:</p>
<div style="font-size: 0.80em; ; color: #696969;">
<p><em>Click on Code to view code in <code>R/mod_plot.R</code></em></p>
</div>
<div style="font-size: 0.80em;">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' plot UI Function</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param id</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return shiny UI module</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export mod_plot_ui</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny NS tagList tags</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny plotOutput verbatimTextOutput</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>mod_plot_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>  ns <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">NS</span>(id)</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">tagList</span>(</span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">br</span>(),</span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">blockquote</span>(</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">em</span>(</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>        shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h6</span>(</span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>          <span class="st">"The code for this application comes from the "</span>,</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a>          shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">a</span>(<span class="st">"Building web applications with Shiny"</span>,</span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">href =</span> <span class="st">"https://rstudio-education.github.io/shiny-course/"</span></span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a>          <span class="st">"tutorial"</span></span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span><span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="fu">ns</span>(<span class="st">"scatterplot"</span>))</span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-27"><a href="#cb80-27" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></li>
<li><p>Server module functions end with a <code>_server</code> suffix:</p>
<div style="font-size: 0.80em; ; color: #696969;">
<p><em>Click on Code to view code in <code>R/mod_plot.R</code></em></p>
</div>
<div style="font-size: 0.80em;">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' plot Server Functions</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param id module id</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param var_inputs inputs from mod_var_input</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return shiny server module</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export mod_plot_server</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny NS moduleServer reactive</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom tools toTitleCase</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom shiny renderPlot</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom stringr str_replace_all</span></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom ggplot2 labs theme_minimal theme</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>mod_plot_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id, var_inputs) {</span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>    movies <span class="ot">&lt;-</span> gap<span class="sc">::</span>movies</span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a>    inputs <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">reactive</span>({</span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a>      plot_title <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">toTitleCase</span>(var_inputs<span class="sc">$</span><span class="fu">plot_title</span>())</span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> var_inputs<span class="sc">$</span><span class="fu">x</span>(),</span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> var_inputs<span class="sc">$</span><span class="fu">y</span>(),</span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">z =</span> var_inputs<span class="sc">$</span><span class="fu">z</span>(),</span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> var_inputs<span class="sc">$</span><span class="fu">alpha</span>(),</span>
<span id="cb81-25"><a href="#cb81-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> var_inputs<span class="sc">$</span><span class="fu">size</span>(),</span>
<span id="cb81-26"><a href="#cb81-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_title =</span> plot_title</span>
<span id="cb81-27"><a href="#cb81-27" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb81-28"><a href="#cb81-28" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb81-29"><a href="#cb81-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-30"><a href="#cb81-30" aria-hidden="true" tabindex="-1"></a>    output<span class="sc">$</span>scatterplot <span class="ot">&lt;-</span> shiny<span class="sc">::</span><span class="fu">renderPlot</span>({</span>
<span id="cb81-31"><a href="#cb81-31" aria-hidden="true" tabindex="-1"></a>      plot <span class="ot">&lt;-</span> <span class="fu">point_plot</span>(</span>
<span id="cb81-32"><a href="#cb81-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">df =</span> movies,</span>
<span id="cb81-33"><a href="#cb81-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>x,</span>
<span id="cb81-34"><a href="#cb81-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>y,</span>
<span id="cb81-35"><a href="#cb81-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">col_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>z,</span>
<span id="cb81-36"><a href="#cb81-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>alpha,</span>
<span id="cb81-37"><a href="#cb81-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">size_var =</span> <span class="fu">inputs</span>()<span class="sc">$</span>size</span>
<span id="cb81-38"><a href="#cb81-38" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb81-39"><a href="#cb81-39" aria-hidden="true" tabindex="-1"></a>      plot <span class="sc">+</span></span>
<span id="cb81-40"><a href="#cb81-40" aria-hidden="true" tabindex="-1"></a>        ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb81-41"><a href="#cb81-41" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="fu">inputs</span>()<span class="sc">$</span>plot_title,</span>
<span id="cb81-42"><a href="#cb81-42" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(tools<span class="sc">::</span><span class="fu">toTitleCase</span>(<span class="fu">inputs</span>()<span class="sc">$</span>x), <span class="st">"_"</span>, <span class="st">" "</span>),</span>
<span id="cb81-43"><a href="#cb81-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(tools<span class="sc">::</span><span class="fu">toTitleCase</span>(<span class="fu">inputs</span>()<span class="sc">$</span>y), <span class="st">"_"</span>, <span class="st">" "</span>)</span>
<span id="cb81-44"><a href="#cb81-44" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb81-45"><a href="#cb81-45" aria-hidden="true" tabindex="-1"></a>        ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb81-46"><a href="#cb81-46" aria-hidden="true" tabindex="-1"></a>        ggplot2<span class="sc">::</span><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb81-47"><a href="#cb81-47" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb81-48"><a href="#cb81-48" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb81-49"><a href="#cb81-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb81-50"><a href="#cb81-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-51"><a href="#cb81-51" aria-hidden="true" tabindex="-1"></a><span class="do">## To be copied in the UI</span></span>
<span id="cb81-52"><a href="#cb81-52" aria-hidden="true" tabindex="-1"></a><span class="co"># mod_plot_ui("plot_1")</span></span>
<span id="cb81-53"><a href="#cb81-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-54"><a href="#cb81-54" aria-hidden="true" tabindex="-1"></a><span class="do">## To be copied in the server</span></span>
<span id="cb81-55"><a href="#cb81-55" aria-hidden="true" tabindex="-1"></a><span class="co"># mod_plot_server("plot_1")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<ul>
<li>See all of the modules I use in this application <a href="https://github.com/mjfrigaard/shiny-app-setups/blob/main/gap/R">here on GitHub examples</a><br>
</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Module names
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div style="font-size: 1.05em; color: #696969;">
<p>Including <code>mod</code> in the name of module scripts and functions makes it easier to separate them from other functions in my package namespace, if I’m using tab-completion, or if I’m searching for a particular file using <code>Ctrl</code> + <code>.</code>:</p>
<div id="fig-go-to" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="go-to-file.png" style="width:90.0%;height:90.0%" class="figure-img"></p>
</figure>
</div>
<figcaption class="figure-caption">Figure&nbsp;2: <strong>Go to File/Function</strong> in RStudio</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><p>Include tests for new modules and functions using the <code>with_test = TRUE</code> argument</p>
<div style="font-size: 0.80em;">
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tests/testthat/</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> _snaps</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-golem-recommended.R</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-golem_utils_server.R</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-golem_utils_ui.R</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-mod_plot.R</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>            <span class="ex">├──</span> test-mod_plot_utils_server.R</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>            <span class="ex">└──</span> test-mod_var_input.R</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span> directories, 6 files</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></li>
</ul>
</section>
<section id="adding-resources" class="level3">
<h3 class="anchored" data-anchor-id="adding-resources">Adding resources</h3>
<ul>
<li><p>To include other files (like images), add the image file to <code>inst/app/www/</code>, then add the <code>www/</code> to the path (see example UI code below)</p>
<div style="font-size: 0.80em;">
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add icon</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/shiny.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></li>
<li><p>If I wanted to include images in their own folder (like <code>images/</code>), I can use <code>golem::addResourcePath()</code> to add the name of the sub-folder to <code>inst/app/</code></p>
<div style="font-size: 0.80em;">
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add icon</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_resource_path</span>(</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">prefix =</span> <span class="st">'images'</span>, </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">directoryPath =</span> <span class="fu">system.file</span>(<span class="st">'app/images'</span>, <span class="at">package =</span> <span class="st">'gap'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></li>
<li><p>Now I can add the image file to the <code>inst/app/www/images/</code> folder and include the following code in the UI:</p>
<div style="font-size: 0.80em;">
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add icon</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/images/golem-hex.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></li>
<li><p>In <code>R/app_ui.R</code>, the <code>app_ui()</code> function contains the UI layout functions (<code>fluidPage()</code>, <code>sidebarLayout()</code>, etc.), and a call to <code>golem_add_external_resources()</code>:</p>
<div style="font-size: 0.80em; ; color: #696969;">
<p><em>Click on Code to view the updated <code>R/app_ui.R</code></em></p>
</div>
<div style="font-size: 0.80em;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' The application User-Interface</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param request Internal parameter for `{shiny}`.</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co">#'     DO NOT REMOVE.</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' @import shiny</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @noRd</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>app_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(request) {</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">::</span><span class="fu">tagList</span>(</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Leave this function for adding external resources</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">golem_add_external_resources</span>(),</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your application UI logic</span></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">::</span><span class="fu">fluidPage</span>(</span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"gap"</span>),</span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">::</span><span class="fu">sidebarLayout</span>(</span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a>        shiny<span class="sc">::</span><span class="fu">sidebarPanel</span>(</span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mod_var_input_ui</span>(<span class="st">"vars"</span>)</span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb86-18"><a href="#cb86-18" aria-hidden="true" tabindex="-1"></a>        shiny<span class="sc">::</span><span class="fu">mainPanel</span>(</span>
<span id="cb86-19"><a href="#cb86-19" aria-hidden="true" tabindex="-1"></a>          <span class="co"># add shiny hex in www/</span></span>
<span id="cb86-20"><a href="#cb86-20" aria-hidden="true" tabindex="-1"></a>          shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/shiny.png"</span>),</span>
<span id="cb86-21"><a href="#cb86-21" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mod_plot_ui</span>(<span class="st">"plot"</span>),</span>
<span id="cb86-22"><a href="#cb86-22" aria-hidden="true" tabindex="-1"></a>          <span class="co"># add golem hex (in www/images/)</span></span>
<span id="cb86-23"><a href="#cb86-23" aria-hidden="true" tabindex="-1"></a>          shiny<span class="sc">::</span><span class="fu">fluidRow</span>(</span>
<span id="cb86-24"><a href="#cb86-24" aria-hidden="true" tabindex="-1"></a>            shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">em</span>(shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h4</span>(</span>
<span id="cb86-25"><a href="#cb86-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Brought to you by: "</span>,</span>
<span id="cb86-26"><a href="#cb86-26" aria-hidden="true" tabindex="-1"></a>              shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"www/images/golem-hex.png"</span>)</span>
<span id="cb86-27"><a href="#cb86-27" aria-hidden="true" tabindex="-1"></a>            ))</span>
<span id="cb86-28"><a href="#cb86-28" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb86-29"><a href="#cb86-29" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb86-30"><a href="#cb86-30" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb86-31"><a href="#cb86-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb86-32"><a href="#cb86-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb86-33"><a href="#cb86-33" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div style="font-size: 0.80em; ; color: #696969;">
<p><em>Click on Code to view <code>golem_add_external_resources()</code></em></p>
</div>
<div style="font-size: 0.80em;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this is also included in the app_ui.R script</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>golem_add_external_resources <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_resource_path</span>(</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"www"</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">app_sys</span>(<span class="st">"app/www"</span>)</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  tags<span class="sc">$</span><span class="fu">head</span>(</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">favicon</span>(),</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bundle_resources</span>(</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">path =</span> <span class="fu">app_sys</span>(<span class="st">"app/www"</span>),</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">app_title =</span> <span class="st">"gap"</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add here other external resources</span></span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># for example, you can add shinyalert::useShinyalert()</span></span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div></li>
<li><p>Now when I run <code>devtools::load_all()</code>, <code>devtools::document()</code>, install/restart, and load the package, I see the images properly rendered with the application:</p></li>
</ul>
</section>
<section id="deploy-1" class="level3">
<h3 class="anchored" data-anchor-id="deploy-1">Deploy</h3>
<ul>
<li><p>The final step in the guided tour contains functions for deploying a new application to Posit Connect or Docker (it opens automatically after completing the <code>dev/02_dev.R</code>)</p>
<div style="font-size: 0.80em; ; color: #696969;">
<p><em>Click on Code to view code in <code>dev/03_deploy.R</code></em></p>
</div>
<div style="font-size: 0.80em;">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Run checks ----</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Check the package before sending to prod</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">check</span>()</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>rhub<span class="sc">::</span><span class="fu">check_for_cran</span>()</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Deploy</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Local, CRAN or Package Manager ----</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a><span class="do">## This will build a tar.gz that can be installed locally,</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a><span class="do">## sent to CRAN, or to a package manager</span></span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">build</span>()</span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a><span class="do">## RStudio ----</span></span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a><span class="do">## If you want to deploy on RStudio related platforms</span></span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_rstudioconnect_file</span>()</span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_shinyappsio_file</span>()</span>
<span id="cb88-17"><a href="#cb88-17" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_shinyserver_file</span>()</span>
<span id="cb88-18"><a href="#cb88-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-19"><a href="#cb88-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Docker ----</span></span>
<span id="cb88-20"><a href="#cb88-20" aria-hidden="true" tabindex="-1"></a><span class="do">## If you want to deploy via a generic Dockerfile</span></span>
<span id="cb88-21"><a href="#cb88-21" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_dockerfile_with_renv</span>()</span>
<span id="cb88-22"><a href="#cb88-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-23"><a href="#cb88-23" aria-hidden="true" tabindex="-1"></a><span class="do">## If you want to deploy to ShinyProxy</span></span>
<span id="cb88-24"><a href="#cb88-24" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_dockerfile_with_renv_shinyproxy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<ul>
<li>RStudio (Posit) Connect
<ul>
<li><a href="https://thinkr-open.github.io/golem/reference/rstudio_deploy.html"><code>golem::add_rstudioconnect_file()</code></a>, <a href="https://thinkr-open.github.io/golem/reference/rstudio_deploy.html"><code>golem::add_shinyappsio_file()</code></a>, and <a href="https://thinkr-open.github.io/golem/reference/rstudio_deploy.html"><code>golem::add_shinyserver_file()</code></a></li>
</ul></li>
<li>Docker
<ul>
<li><a href="https://thinkr-open.github.io/golem/reference/dockerfiles.html"><code>golem::add_dockerfile_with_renv()</code></a> and <a href="https://thinkr-open.github.io/golem/reference/dockerfiles.html"><code>golem::add_dockerfile_with_renv_shinyproxy()</code></a></li>
</ul></li>
<li>I’ll deploy my app using shinyapps.io, so after running <code>golem::add_shinyappsio_file()</code> I will see the following output and a new <code>app.R</code> file.</li>
</ul>
<div style="font-size: 0.80em; ; color: #696969;">
<p><em>Click on Code to view the output from <code>golem::add_shinyappsio_file()</code></em></p>
</div>
<div style="font-size: 0.80em;">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>golem<span class="sc">::</span><span class="fu">add_shinyappsio_file</span>()</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>── Creating _disable_autoload.R ──────────────────────────────────────────────────────</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>✔ Created</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>✔ Setting active project to <span class="st">'/Users/mjfrigaard/projects/gap'</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>✔ Adding <span class="st">'^app</span><span class="sc">\\</span><span class="st">.R$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>✔ Adding <span class="st">'^rsconnect$'</span> to <span class="st">'.Rbuildignore'</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>✔ Adding <span class="st">'pkgload'</span> to Imports field <span class="cf">in</span> DESCRIPTION</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>• Refer to functions with <span class="st">`</span><span class="at">pkgload::fun()</span><span class="st">`</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>✔ File created at <span class="sc">/</span>Users<span class="sc">/</span>mjfrigaard<span class="sc">/</span>projects<span class="sc">/</span>gap<span class="sc">/</span>app.R</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>To deploy, run<span class="sc">:</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>• rsconnect<span class="sc">::</span><span class="fu">deployApp</span>()</span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>• Note that you<span class="st">'ll need to upload the whole package to ShinyApps.io</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<ul>
<li>The app.R contents</li>
</ul>
<div style="font-size: 0.80em; ; color: #696969;">
<p><em>Click on Code to view the contents of <code>app.R</code></em></p>
</div>
<div style="font-size: 0.80em;">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Launch the ShinyApp (Do not remove this comment)</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co"># To deploy, run: rsconnect::deployApp()</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Or use the blue button on top of this file</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>pkgload<span class="sc">::</span><span class="fu">load_all</span>(<span class="at">export_all =</span> <span class="cn">FALSE</span>, <span class="at">helpers =</span> <span class="cn">FALSE</span>, <span class="at">attach_testthat =</span> <span class="cn">FALSE</span>)</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>( <span class="st">"golem.app.prod"</span> <span class="ot">=</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>gap<span class="sc">::</span><span class="fu">run_app</span>() <span class="co"># add parameters here (if any)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div></li>
</ul>
<p>Building an application with <code>golem</code> is very similar to developing an R package. New code files are placed in <code>R/</code>, external resources are placed in <code>inst/</code>, etc. I’ll cover creating modules and utility functions in the next section.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>